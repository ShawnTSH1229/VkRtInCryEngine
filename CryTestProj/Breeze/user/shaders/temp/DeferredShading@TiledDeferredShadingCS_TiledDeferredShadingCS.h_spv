; SPIR-V
; Version: 1.0
; Generator: Google spiregg; 0
; Bound: 2951
; Schema: 0
               OpCapability Shader
               OpCapability SampledBuffer
               OpCapability ImageBuffer
               OpCapability StorageImageReadWithoutFormat
               OpCapability StorageImageWriteWithoutFormat
          %1 = OpExtInstImport "GLSL.std.450"
               OpMemoryModel Logical GLSL450
               OpEntryPoint GLCompute %TiledDeferredShadingCS "TiledDeferredShadingCS" %gl_WorkGroupID %gl_LocalInvocationID
               OpExecutionMode %TiledDeferredShadingCS LocalSize 8 8 1
               OpSource HLSL 600
               OpName %type_PER_BATCH "type.PER_BATCH"
               OpMemberName %type_PER_BATCH 0 "irreg_kernel_2d"
               OpMemberName %type_PER_BATCH 1 "ForwGiIntegrationMode"
               OpMemberName %type_PER_BATCH 2 "SunDir"
               OpMemberName %type_PER_BATCH 3 "SSDOParams"
               OpMemberName %type_PER_BATCH 4 "ScreenSize"
               OpName %PER_BATCH "PER_BATCH"
               OpName %type_sampler "type.sampler"
               OpName %SampStateTrilinearClamp "SampStateTrilinearClamp"
               OpName %type_2d_image_array "type.2d.image.array"
               OpName %SpotTexArray "SpotTexArray"
               OpName %ShadowMaskRT "ShadowMaskRT"
               OpName %type_2d_image "type.2d.image"
               OpName %NormalRT "NormalRT"
               OpName %LTCTex_2 "LTCTex_2"
               OpName %ClipVolumeIndexRT "ClipVolumeIndexRT"
               OpName %DirectionalOccRT "DirectionalOccRT"
               OpName %SpecularRT "SpecularRT"
               OpName %type_cube_image_array "type.cube.image.array"
               OpName %SpecCubeArray "SpecCubeArray"
               OpName %CausticsRT "CausticsRT"
               OpName %DiffuseRT "DiffuseRT"
               OpName %EnvBRDF "EnvBRDF"
               OpName %LTCTex_1 "LTCTex_1"
               OpName %DepthRT "DepthRT"
               OpName %AOColorBleedRT "AOColorBleedRT"
               OpName %DiffuseCubeArray "DiffuseCubeArray"
               OpName %type_CBPerViewGlobal "type.CBPerViewGlobal"
               OpMemberName %type_CBPerViewGlobal 0 "CV_ViewProjZeroMatr"
               OpMemberName %type_CBPerViewGlobal 1 "CV_AnimGenParams"
               OpMemberName %type_CBPerViewGlobal 2 "CV_ViewProjMatr"
               OpMemberName %type_CBPerViewGlobal 3 "CV_ViewProjNearestMatr"
               OpMemberName %type_CBPerViewGlobal 4 "CV_InvViewProj"
               OpMemberName %type_CBPerViewGlobal 5 "CV_PrevViewProjMatr"
               OpMemberName %type_CBPerViewGlobal 6 "CV_PrevViewProjNearestMatr"
               OpMemberName %type_CBPerViewGlobal 7 "CV_ScreenToWorldBasis"
               OpMemberName %type_CBPerViewGlobal 8 "CV_TessInfo"
               OpMemberName %type_CBPerViewGlobal 9 "CV_WorldViewPosition"
               OpMemberName %type_CBPerViewGlobal 10 "CV_CameraRightVector"
               OpMemberName %type_CBPerViewGlobal 11 "CV_CameraFrontVector"
               OpMemberName %type_CBPerViewGlobal 12 "CV_CameraUpVector"
               OpMemberName %type_CBPerViewGlobal 13 "CV_ScreenSize"
               OpMemberName %type_CBPerViewGlobal 14 "CV_HPosScale"
               OpMemberName %type_CBPerViewGlobal 15 "CV_ProjRatio"
               OpMemberName %type_CBPerViewGlobal 16 "CV_NearestScaled"
               OpMemberName %type_CBPerViewGlobal 17 "CV_NearFarClipDist"
               OpMemberName %type_CBPerViewGlobal 18 "CV_SunLightDir"
               OpMemberName %type_CBPerViewGlobal 19 "CV_SunColor"
               OpMemberName %type_CBPerViewGlobal 20 "CV_SkyColor"
               OpMemberName %type_CBPerViewGlobal 21 "CV_FogColor"
               OpMemberName %type_CBPerViewGlobal 22 "CV_TerrainInfo"
               OpMemberName %type_CBPerViewGlobal 23 "CV_DecalZFightingRemedy"
               OpMemberName %type_CBPerViewGlobal 24 "CV_FrustumPlaneEquation"
               OpMemberName %type_CBPerViewGlobal 25 "CV_WindGridOffset"
               OpMemberName %type_CBPerViewGlobal 26 "CV_ViewMatr"
               OpMemberName %type_CBPerViewGlobal 27 "CV_InvViewMatr"
               OpMemberName %type_CBPerViewGlobal 28 "CV_ProjMatr"
               OpMemberName %type_CBPerViewGlobal 29 "CV_ProjMatrUnjittered"
               OpName %CBPerViewGlobal "CBPerViewGlobal"
               OpName %type_2d_image_0 "type.2d.image"
               OpName %HDRSceneTargetUAV "HDRSceneTargetUAV"
               OpName %DiffuseAccUAV "DiffuseAccUAV"
               OpName %type_buffer_image "type.buffer.image"
               OpName %TileLightMask "TileLightMask"
               OpName %type_StructuredBuffer_STiledLightShadeInfo "type.StructuredBuffer.STiledLightShadeInfo"
               OpName %STiledLightShadeInfo "STiledLightShadeInfo"
               OpMemberName %STiledLightShadeInfo 0 "lightType"
               OpMemberName %STiledLightShadeInfo 1 "resIndex"
               OpMemberName %STiledLightShadeInfo 2 "shadowMaskIndex"
               OpMemberName %STiledLightShadeInfo 3 "stencilID"
               OpMemberName %STiledLightShadeInfo 4 "posRad"
               OpMemberName %STiledLightShadeInfo 5 "attenuationParams"
               OpMemberName %STiledLightShadeInfo 6 "shadowParams"
               OpMemberName %STiledLightShadeInfo 7 "color"
               OpMemberName %STiledLightShadeInfo 8 "projectorMatrix"
               OpMemberName %STiledLightShadeInfo 9 "shadowMatrix"
               OpName %TiledLightsShadeInfo "TiledLightsShadeInfo"
               OpName %type_StructuredBuffer_STiledClipVolumeInfo "type.StructuredBuffer.STiledClipVolumeInfo"
               OpName %STiledClipVolumeInfo "STiledClipVolumeInfo"
               OpMemberName %STiledClipVolumeInfo 0 "data"
               OpName %TiledClipVolumeInfo "TiledClipVolumeInfo"
               OpName %sTileLightCount "sTileLightCount"
               OpName %sTileLightIndices "sTileLightIndices"
               OpName %sTileWithinProjection "sTileWithinProjection"
               OpName %sTileLightMask "sTileLightMask"
               OpName %sTileLightMaskCounts "sTileLightMaskCounts"
               OpName %TiledDeferredShadingCS "TiledDeferredShadingCS"
               OpName %param_var_GroupID "param.var.GroupID"
               OpName %param_var_GroupThreadID "param.var.GroupThreadID"
               OpName %type_sampled_image "type.sampled.image"
               OpName %type_sampled_image_0 "type.sampled.image"
               OpName %type_sampled_image_1 "type.sampled.image"
               OpDecorate %gl_WorkGroupID BuiltIn WorkgroupId
               OpDecorate %gl_LocalInvocationID BuiltIn LocalInvocationId
               OpDecorate %PER_BATCH DescriptorSet 2
               OpDecorate %PER_BATCH Binding 0
               OpDecorate %SampStateTrilinearClamp DescriptorSet 0
               OpDecorate %SampStateTrilinearClamp Binding 21
               OpDecorate %SpotTexArray DescriptorSet 0
               OpDecorate %SpotTexArray Binding 18
               OpDecorate %ShadowMaskRT DescriptorSet 0
               OpDecorate %ShadowMaskRT Binding 4
               OpDecorate %NormalRT DescriptorSet 0
               OpDecorate %NormalRT Binding 1
               OpDecorate %LTCTex_2 DescriptorSet 0
               OpDecorate %LTCTex_2 Binding 20
               OpDecorate %ClipVolumeIndexRT DescriptorSet 0
               OpDecorate %ClipVolumeIndexRT Binding 8
               OpDecorate %DirectionalOccRT DescriptorSet 0
               OpDecorate %DirectionalOccRT Binding 5
               OpDecorate %SpecularRT DescriptorSet 0
               OpDecorate %SpecularRT Binding 2
               OpDecorate %SpecCubeArray DescriptorSet 0
               OpDecorate %SpecCubeArray Binding 16
               OpDecorate %CausticsRT DescriptorSet 0
               OpDecorate %CausticsRT Binding 12
               OpDecorate %DiffuseRT DescriptorSet 0
               OpDecorate %DiffuseRT Binding 3
               OpDecorate %EnvBRDF DescriptorSet 0
               OpDecorate %EnvBRDF Binding 7
               OpDecorate %LTCTex_1 DescriptorSet 0
               OpDecorate %LTCTex_1 Binding 19
               OpDecorate %DepthRT DescriptorSet 0
               OpDecorate %DepthRT Binding 0
               OpDecorate %AOColorBleedRT DescriptorSet 0
               OpDecorate %AOColorBleedRT Binding 9
               OpDecorate %DiffuseCubeArray DescriptorSet 0
               OpDecorate %DiffuseCubeArray Binding 17
               OpDecorate %CBPerViewGlobal DescriptorSet 1
               OpDecorate %CBPerViewGlobal Binding 0
               OpDecorate %HDRSceneTargetUAV DescriptorSet 0
               OpDecorate %HDRSceneTargetUAV Binding 23
               OpDecorate %DiffuseAccUAV DescriptorSet 0
               OpDecorate %DiffuseAccUAV Binding 24
               OpDecorate %TileLightMask DescriptorSet 0
               OpDecorate %TileLightMask Binding 13
               OpDecorate %TiledLightsShadeInfo DescriptorSet 0
               OpDecorate %TiledLightsShadeInfo Binding 14
               OpDecorate %TiledClipVolumeInfo DescriptorSet 0
               OpDecorate %TiledClipVolumeInfo Binding 15
               OpDecorate %_arr_v4float_uint_8 ArrayStride 16
               OpMemberDecorate %type_PER_BATCH 0 Offset 0
               OpMemberDecorate %type_PER_BATCH 1 Offset 128
               OpMemberDecorate %type_PER_BATCH 2 Offset 144
               OpMemberDecorate %type_PER_BATCH 3 Offset 160
               OpMemberDecorate %type_PER_BATCH 4 Offset 176
               OpDecorate %type_PER_BATCH Block
               OpMemberDecorate %type_CBPerViewGlobal 0 Offset 0
               OpMemberDecorate %type_CBPerViewGlobal 0 MatrixStride 16
               OpMemberDecorate %type_CBPerViewGlobal 0 ColMajor
               OpMemberDecorate %type_CBPerViewGlobal 1 Offset 64
               OpMemberDecorate %type_CBPerViewGlobal 2 Offset 80
               OpMemberDecorate %type_CBPerViewGlobal 2 MatrixStride 16
               OpMemberDecorate %type_CBPerViewGlobal 2 ColMajor
               OpMemberDecorate %type_CBPerViewGlobal 3 Offset 144
               OpMemberDecorate %type_CBPerViewGlobal 3 MatrixStride 16
               OpMemberDecorate %type_CBPerViewGlobal 3 ColMajor
               OpMemberDecorate %type_CBPerViewGlobal 4 Offset 208
               OpMemberDecorate %type_CBPerViewGlobal 4 MatrixStride 16
               OpMemberDecorate %type_CBPerViewGlobal 4 ColMajor
               OpMemberDecorate %type_CBPerViewGlobal 5 Offset 272
               OpMemberDecorate %type_CBPerViewGlobal 5 MatrixStride 16
               OpMemberDecorate %type_CBPerViewGlobal 5 ColMajor
               OpMemberDecorate %type_CBPerViewGlobal 6 Offset 336
               OpMemberDecorate %type_CBPerViewGlobal 6 MatrixStride 16
               OpMemberDecorate %type_CBPerViewGlobal 6 ColMajor
               OpMemberDecorate %type_CBPerViewGlobal 7 Offset 400
               OpMemberDecorate %type_CBPerViewGlobal 7 MatrixStride 16
               OpMemberDecorate %type_CBPerViewGlobal 7 ColMajor
               OpMemberDecorate %type_CBPerViewGlobal 8 Offset 448
               OpMemberDecorate %type_CBPerViewGlobal 9 Offset 464
               OpMemberDecorate %type_CBPerViewGlobal 10 Offset 480
               OpMemberDecorate %type_CBPerViewGlobal 11 Offset 496
               OpMemberDecorate %type_CBPerViewGlobal 12 Offset 512
               OpMemberDecorate %type_CBPerViewGlobal 13 Offset 528
               OpMemberDecorate %type_CBPerViewGlobal 14 Offset 544
               OpMemberDecorate %type_CBPerViewGlobal 15 Offset 560
               OpMemberDecorate %type_CBPerViewGlobal 16 Offset 576
               OpMemberDecorate %type_CBPerViewGlobal 17 Offset 592
               OpMemberDecorate %type_CBPerViewGlobal 18 Offset 608
               OpMemberDecorate %type_CBPerViewGlobal 19 Offset 624
               OpMemberDecorate %type_CBPerViewGlobal 20 Offset 640
               OpMemberDecorate %type_CBPerViewGlobal 21 Offset 656
               OpMemberDecorate %type_CBPerViewGlobal 22 Offset 672
               OpMemberDecorate %type_CBPerViewGlobal 23 Offset 688
               OpMemberDecorate %type_CBPerViewGlobal 24 Offset 704
               OpMemberDecorate %type_CBPerViewGlobal 24 MatrixStride 16
               OpMemberDecorate %type_CBPerViewGlobal 24 ColMajor
               OpMemberDecorate %type_CBPerViewGlobal 25 Offset 768
               OpMemberDecorate %type_CBPerViewGlobal 26 Offset 784
               OpMemberDecorate %type_CBPerViewGlobal 26 MatrixStride 16
               OpMemberDecorate %type_CBPerViewGlobal 26 ColMajor
               OpMemberDecorate %type_CBPerViewGlobal 27 Offset 848
               OpMemberDecorate %type_CBPerViewGlobal 27 MatrixStride 16
               OpMemberDecorate %type_CBPerViewGlobal 27 ColMajor
               OpMemberDecorate %type_CBPerViewGlobal 28 Offset 912
               OpMemberDecorate %type_CBPerViewGlobal 28 MatrixStride 16
               OpMemberDecorate %type_CBPerViewGlobal 28 ColMajor
               OpMemberDecorate %type_CBPerViewGlobal 29 Offset 976
               OpMemberDecorate %type_CBPerViewGlobal 29 MatrixStride 16
               OpMemberDecorate %type_CBPerViewGlobal 29 ColMajor
               OpDecorate %type_CBPerViewGlobal Block
               OpMemberDecorate %STiledLightShadeInfo 0 Offset 0
               OpMemberDecorate %STiledLightShadeInfo 1 Offset 4
               OpMemberDecorate %STiledLightShadeInfo 2 Offset 8
               OpMemberDecorate %STiledLightShadeInfo 3 Offset 12
               OpMemberDecorate %STiledLightShadeInfo 4 Offset 16
               OpMemberDecorate %STiledLightShadeInfo 5 Offset 32
               OpMemberDecorate %STiledLightShadeInfo 6 Offset 40
               OpMemberDecorate %STiledLightShadeInfo 7 Offset 48
               OpMemberDecorate %STiledLightShadeInfo 8 Offset 64
               OpMemberDecorate %STiledLightShadeInfo 8 MatrixStride 16
               OpMemberDecorate %STiledLightShadeInfo 8 ColMajor
               OpMemberDecorate %STiledLightShadeInfo 9 Offset 128
               OpMemberDecorate %STiledLightShadeInfo 9 MatrixStride 16
               OpMemberDecorate %STiledLightShadeInfo 9 ColMajor
               OpDecorate %_runtimearr_STiledLightShadeInfo ArrayStride 192
               OpMemberDecorate %type_StructuredBuffer_STiledLightShadeInfo 0 Offset 0
               OpMemberDecorate %type_StructuredBuffer_STiledLightShadeInfo 0 NonWritable
               OpDecorate %type_StructuredBuffer_STiledLightShadeInfo BufferBlock
               OpMemberDecorate %STiledClipVolumeInfo 0 Offset 0
               OpDecorate %_runtimearr_STiledClipVolumeInfo ArrayStride 4
               OpMemberDecorate %type_StructuredBuffer_STiledClipVolumeInfo 0 Offset 0
               OpMemberDecorate %type_StructuredBuffer_STiledClipVolumeInfo 0 NonWritable
               OpDecorate %type_StructuredBuffer_STiledClipVolumeInfo BufferBlock
      %float = OpTypeFloat 32
    %float_1 = OpConstant %float 1
  %float_0_5 = OpConstant %float 0.5
        %int = OpTypeInt 32 1
      %int_1 = OpConstant %int 1
       %uint = OpTypeInt 32 0
     %uint_8 = OpConstant %uint 8
      %int_0 = OpConstant %int 0
     %v2uint = OpTypeVector %uint 2
         %62 = OpConstantComposite %v2uint %uint_8 %uint_8
      %int_4 = OpConstant %int 4
      %int_2 = OpConstant %int 2
      %int_3 = OpConstant %int 3
     %uint_0 = OpConstant %uint 0
    %float_0 = OpConstant %float 0
    %v2float = OpTypeVector %float 2
         %69 = OpConstantComposite %v2float %float_0 %float_0
       %bool = OpTypeBool
      %false = OpConstantFalse %bool
         %72 = OpConstantComposite %v2float %float_1 %float_1
     %uint_1 = OpConstant %uint 1
    %uint_32 = OpConstant %uint 32
      %int_7 = OpConstant %int 7
       %true = OpConstantTrue %bool
    %v3float = OpTypeVector %float 3
         %78 = OpConstantComposite %v3float %float_0 %float_0 %float_0
  %float_255 = OpConstant %float 255
    %uint_63 = OpConstant %uint 63
    %float_6 = OpConstant %float 6
      %int_8 = OpConstant %int 8
     %uint_2 = OpConstant %uint 2
      %int_5 = OpConstant %int 5
      %int_9 = OpConstant %int 9
    %int_254 = OpConstant %int 254
    %float_2 = OpConstant %float 2
         %88 = OpConstantComposite %v3float %float_1 %float_1 %float_1
    %float_3 = OpConstant %float 3
%float_0_699999988 = OpConstant %float 0.699999988
         %91 = OpConstantComposite %v3float %float_0_699999988 %float_0_699999988 %float_0_699999988
%float_0_300000012 = OpConstant %float 0.300000012
     %uint_3 = OpConstant %uint 3
     %uint_4 = OpConstant %uint 4
      %int_6 = OpConstant %int 6
    %v4float = OpTypeVector %float 4
         %97 = OpConstantComposite %v4float %float_1 %float_1 %float_1 %float_1
     %int_31 = OpConstant %int 31
   %uint_255 = OpConstant %uint 255
    %uint_16 = OpConstant %uint 16
    %uint_24 = OpConstant %uint 24
 %uint_65535 = OpConstant %uint 65535
%float_0_00100000005 = OpConstant %float 0.00100000005
%float_9_99999997en07 = OpConstant %float 9.99999997e-07
%float_9_99999975en06 = OpConstant %float 9.99999975e-06
%float_1_40199995 = OpConstant %float 1.40199995
%float_n0_344099998 = OpConstant %float -0.344099998
%float_n0_714100003 = OpConstant %float -0.714100003
        %109 = OpConstantComposite %v3float %float_1 %float_n0_344099998 %float_n0_714100003
%float_1_77199996 = OpConstant %float 1.77199996
%float_0_0199999996 = OpConstant %float 0.0199999996
%float_0_0078125 = OpConstant %float 0.0078125
        %113 = OpConstantComposite %v2float %float_0_0078125 %float_0_0078125
%float_n9_99999997en07 = OpConstant %float -9.99999997e-07
%float_0_100000001 = OpConstant %float 0.100000001
        %116 = OpConstantComposite %v3float %float_0_100000001 %float_0_100000001 %float_0_100000001
%float_0_662251651 = OpConstant %float 0.662251651
%float_0_333330005 = OpConstant %float 0.333330005
        %119 = OpConstantComposite %v3float %float_0_333330005 %float_0_333330005 %float_0_333330005
    %float_5 = OpConstant %float 5
%float_0_212599993 = OpConstant %float 0.212599993
%float_0_715200007 = OpConstant %float 0.715200007
%float_0_0722000003 = OpConstant %float 0.0722000003
        %124 = OpConstantComposite %v3float %float_0_212599993 %float_0_715200007 %float_0_0722000003
 %float_0_75 = OpConstant %float 0.75
%float_0_125 = OpConstant %float 0.125
        %127 = OpConstantComposite %v2float %float_0_125 %float_0_125
 %float_2048 = OpConstant %float 2048
%float_0_854398489 = OpConstant %float 0.854398489
%float_0_496515512 = OpConstant %float 0.496515512
%float_0_0145206004 = OpConstant %float 0.0145206004
%float_3_41759396 = OpConstant %float 3.41759396
%float_4_16167259 = OpConstant %float 4.16167259
%float_1_00000001en07 = OpConstant %float 1.00000001e-07
    %float_4 = OpConstant %float 4
%_arr_v4float_uint_8 = OpTypeArray %v4float %uint_8
%type_PER_BATCH = OpTypeStruct %_arr_v4float_uint_8 %v4float %v4float %v4float %v4float
%_ptr_Uniform_type_PER_BATCH = OpTypePointer Uniform %type_PER_BATCH
%type_sampler = OpTypeSampler
%_ptr_UniformConstant_type_sampler = OpTypePointer UniformConstant %type_sampler
%type_2d_image_array = OpTypeImage %float 2D 2 1 0 1 Unknown
%_ptr_UniformConstant_type_2d_image_array = OpTypePointer UniformConstant %type_2d_image_array
%type_2d_image = OpTypeImage %float 2D 2 0 0 1 Unknown
%_ptr_UniformConstant_type_2d_image = OpTypePointer UniformConstant %type_2d_image
%type_cube_image_array = OpTypeImage %float Cube 2 1 0 1 Unknown
%_ptr_UniformConstant_type_cube_image_array = OpTypePointer UniformConstant %type_cube_image_array
%mat4v4float = OpTypeMatrix %v4float 4
%mat3v4float = OpTypeMatrix %v4float 3
%type_CBPerViewGlobal = OpTypeStruct %mat4v4float %v4float %mat4v4float %mat4v4float %mat4v4float %mat4v4float %mat4v4float %mat3v4float %v4float %v4float %v4float %v4float %v4float %v4float %v4float %v4float %v4float %v4float %v4float %v4float %v4float %v4float %v4float %v4float %mat4v4float %v4float %mat4v4float %mat4v4float %mat4v4float %mat4v4float
%_ptr_Uniform_type_CBPerViewGlobal = OpTypePointer Uniform %type_CBPerViewGlobal
     %v4uint = OpTypeVector %uint 4
%type_2d_image_0 = OpTypeImage %float 2D 2 0 0 2 Unknown
%_ptr_UniformConstant_type_2d_image_0 = OpTypePointer UniformConstant %type_2d_image_0
%type_buffer_image = OpTypeImage %uint Buffer 2 0 0 1 R32ui
%_ptr_UniformConstant_type_buffer_image = OpTypePointer UniformConstant %type_buffer_image
%STiledLightShadeInfo = OpTypeStruct %uint %uint %uint %uint %v4float %v2float %v2float %v4float %mat4v4float %mat4v4float
%_runtimearr_STiledLightShadeInfo = OpTypeRuntimeArray %STiledLightShadeInfo
%type_StructuredBuffer_STiledLightShadeInfo = OpTypeStruct %_runtimearr_STiledLightShadeInfo
%_ptr_Uniform_type_StructuredBuffer_STiledLightShadeInfo = OpTypePointer Uniform %type_StructuredBuffer_STiledLightShadeInfo
%STiledClipVolumeInfo = OpTypeStruct %uint
%_runtimearr_STiledClipVolumeInfo = OpTypeRuntimeArray %STiledClipVolumeInfo
%type_StructuredBuffer_STiledClipVolumeInfo = OpTypeStruct %_runtimearr_STiledClipVolumeInfo
%_ptr_Uniform_type_StructuredBuffer_STiledClipVolumeInfo = OpTypePointer Uniform %type_StructuredBuffer_STiledClipVolumeInfo
%_ptr_Workgroup_uint = OpTypePointer Workgroup %uint
%_arr_uint_uint_255 = OpTypeArray %uint %uint_255
%_ptr_Workgroup__arr_uint_uint_255 = OpTypePointer Workgroup %_arr_uint_uint_255
%_arr_uint_uint_8 = OpTypeArray %uint %uint_8
%_ptr_Workgroup__arr_uint_uint_8 = OpTypePointer Workgroup %_arr_uint_uint_8
     %v3uint = OpTypeVector %uint 3
%_ptr_Input_v3uint = OpTypePointer Input %v3uint
       %void = OpTypeVoid
        %157 = OpTypeFunction %void
%_ptr_Function_v3uint = OpTypePointer Function %v3uint
%_ptr_Function_uint = OpTypePointer Function %uint
%_ptr_Function_v2uint = OpTypePointer Function %v2uint
%_ptr_Function_v2float = OpTypePointer Function %v2float
%_ptr_Function_bool = OpTypePointer Function %bool
%_ptr_Function_float = OpTypePointer Function %float
%_ptr_Function_v4float = OpTypePointer Function %v4float
%_ptr_Function_v3float = OpTypePointer Function %v3float
      %v2int = OpTypeVector %int 2
%_ptr_Function_v4uint = OpTypePointer Function %v4uint
%_ptr_Function_mat4v4float = OpTypePointer Function %mat4v4float
      %v3int = OpTypeVector %int 3
%_ptr_Uniform_v4float = OpTypePointer Uniform %v4float
%_ptr_Uniform_float = OpTypePointer Uniform %float
   %uint_264 = OpConstant %uint 264
     %v2bool = OpTypeVector %bool 2
%_ptr_Uniform_uint = OpTypePointer Uniform %uint
%_ptr_Uniform_v2float = OpTypePointer Uniform %v2float
%type_sampled_image = OpTypeSampledImage %type_cube_image_array
%type_sampled_image_0 = OpTypeSampledImage %type_2d_image
%_ptr_Uniform_mat4v4float = OpTypePointer Uniform %mat4v4float
%type_sampled_image_1 = OpTypeSampledImage %type_2d_image_array
     %v3bool = OpTypeVector %bool 3
%_ptr_Uniform_mat3v4float = OpTypePointer Uniform %mat3v4float
%_ptr_Function_v3bool = OpTypePointer Function %v3bool
%mat3v3float = OpTypeMatrix %v3float 3
  %PER_BATCH = OpVariable %_ptr_Uniform_type_PER_BATCH Uniform
%SampStateTrilinearClamp = OpVariable %_ptr_UniformConstant_type_sampler UniformConstant
%SpotTexArray = OpVariable %_ptr_UniformConstant_type_2d_image_array UniformConstant
%ShadowMaskRT = OpVariable %_ptr_UniformConstant_type_2d_image_array UniformConstant
   %NormalRT = OpVariable %_ptr_UniformConstant_type_2d_image UniformConstant
   %LTCTex_2 = OpVariable %_ptr_UniformConstant_type_2d_image UniformConstant
%ClipVolumeIndexRT = OpVariable %_ptr_UniformConstant_type_2d_image UniformConstant
%DirectionalOccRT = OpVariable %_ptr_UniformConstant_type_2d_image UniformConstant
 %SpecularRT = OpVariable %_ptr_UniformConstant_type_2d_image UniformConstant
%SpecCubeArray = OpVariable %_ptr_UniformConstant_type_cube_image_array UniformConstant
 %CausticsRT = OpVariable %_ptr_UniformConstant_type_2d_image UniformConstant
  %DiffuseRT = OpVariable %_ptr_UniformConstant_type_2d_image UniformConstant
    %EnvBRDF = OpVariable %_ptr_UniformConstant_type_2d_image UniformConstant
   %LTCTex_1 = OpVariable %_ptr_UniformConstant_type_2d_image UniformConstant
    %DepthRT = OpVariable %_ptr_UniformConstant_type_2d_image UniformConstant
%AOColorBleedRT = OpVariable %_ptr_UniformConstant_type_2d_image UniformConstant
%DiffuseCubeArray = OpVariable %_ptr_UniformConstant_type_cube_image_array UniformConstant
%CBPerViewGlobal = OpVariable %_ptr_Uniform_type_CBPerViewGlobal Uniform
%HDRSceneTargetUAV = OpVariable %_ptr_UniformConstant_type_2d_image_0 UniformConstant
%DiffuseAccUAV = OpVariable %_ptr_UniformConstant_type_2d_image_0 UniformConstant
%TileLightMask = OpVariable %_ptr_UniformConstant_type_buffer_image UniformConstant
%TiledLightsShadeInfo = OpVariable %_ptr_Uniform_type_StructuredBuffer_STiledLightShadeInfo Uniform
%TiledClipVolumeInfo = OpVariable %_ptr_Uniform_type_StructuredBuffer_STiledClipVolumeInfo Uniform
%sTileLightCount = OpVariable %_ptr_Workgroup_uint Workgroup
%sTileLightIndices = OpVariable %_ptr_Workgroup__arr_uint_uint_255 Workgroup
%sTileWithinProjection = OpVariable %_ptr_Workgroup_uint Workgroup
%sTileLightMask = OpVariable %_ptr_Workgroup__arr_uint_uint_8 Workgroup
%sTileLightMaskCounts = OpVariable %_ptr_Workgroup__arr_uint_uint_8 Workgroup
%gl_WorkGroupID = OpVariable %_ptr_Input_v3uint Input
%gl_LocalInvocationID = OpVariable %_ptr_Input_v3uint Input
%float_0_984375 = OpConstant %float 0.984375
%float_3_99609375 = OpConstant %float 3.99609375
%float_0_333333343 = OpConstant %float 0.333333343
        %184 = OpConstantComposite %v3float %float_0 %float_1 %float_0
        %185 = OpConstantComposite %v3float %float_1 %float_0 %float_0
        %186 = OpConstantComposite %v3float %float_0 %float_0 %float_1
        %187 = OpConstantComposite %mat3v3float %185 %184 %186
   %float_n1 = OpConstant %float -1
   %float_n2 = OpConstant %float -2
%float_2_09433341 = OpConstant %float 2.09433341
%uint_4294967295 = OpConstant %uint 4294967295
%float_2_00787401 = OpConstant %float 2.00787401
        %193 = OpConstantNull %v4float
        %194 = OpConstantNull %v2float
%float_n9_99999975en06 = OpConstant %float -9.99999975e-06
   %float_50 = OpConstant %float 50
        %197 = OpConstantComposite %v2float %float_0_333333343 %float_0_333333343
%float_0_91023922 = OpConstant %float 0.91023922
 %float_n0_5 = OpConstant %float -0.5
%TiledDeferredShadingCS = OpFunction %void None %157
        %200 = OpLabel
        %201 = OpVariable %_ptr_Function_v3float Function
        %202 = OpVariable %_ptr_Function_v3float Function
        %203 = OpVariable %_ptr_Function_v3float Function
        %204 = OpVariable %_ptr_Function_v2float Function
        %205 = OpVariable %_ptr_Function_v3float Function
        %206 = OpVariable %_ptr_Function_v2float Function
        %207 = OpVariable %_ptr_Function_v3float Function
        %208 = OpVariable %_ptr_Function_v3float Function
        %209 = OpVariable %_ptr_Function_v2float Function
        %210 = OpVariable %_ptr_Function_v2float Function
        %211 = OpVariable %_ptr_Function_v2float Function
        %212 = OpVariable %_ptr_Function_v3float Function
        %213 = OpVariable %_ptr_Function_v3float Function
        %214 = OpVariable %_ptr_Function_v4float Function
        %215 = OpVariable %_ptr_Function_v3float Function
        %216 = OpVariable %_ptr_Function_v3float Function
        %217 = OpVariable %_ptr_Function_v2float Function
        %218 = OpVariable %_ptr_Function_v2float Function
        %219 = OpVariable %_ptr_Function_v2float Function
        %220 = OpVariable %_ptr_Function_v3float Function
        %221 = OpVariable %_ptr_Function_v3float Function
        %222 = OpVariable %_ptr_Function_v4float Function
        %223 = OpVariable %_ptr_Function_v3float Function
        %224 = OpVariable %_ptr_Function_v4float Function
        %225 = OpVariable %_ptr_Function_v4float Function
        %226 = OpVariable %_ptr_Function_v2float Function
        %227 = OpVariable %_ptr_Function_v3float Function
        %228 = OpVariable %_ptr_Function_v3bool Function
        %229 = OpVariable %_ptr_Function_v3bool Function
        %230 = OpVariable %_ptr_Function_v3bool Function
        %231 = OpVariable %_ptr_Function_v2float Function
        %232 = OpVariable %_ptr_Function_v3float Function
        %233 = OpVariable %_ptr_Function_v3float Function
        %234 = OpVariable %_ptr_Function_v3float Function
        %235 = OpVariable %_ptr_Function_v3float Function
        %236 = OpVariable %_ptr_Function_v3float Function
        %237 = OpVariable %_ptr_Function_v2uint Function
        %238 = OpVariable %_ptr_Function_v2float Function
        %239 = OpVariable %_ptr_Function_v4float Function
        %240 = OpVariable %_ptr_Function_v4float Function
        %241 = OpVariable %_ptr_Function_v3float Function
        %242 = OpVariable %_ptr_Function_v4float Function
        %243 = OpVariable %_ptr_Function_v4uint Function
        %244 = OpVariable %_ptr_Function_v4float Function
        %245 = OpVariable %_ptr_Function_mat4v4float Function
        %246 = OpVariable %_ptr_Function_v4float Function
        %247 = OpVariable %_ptr_Function_v4uint Function
        %248 = OpVariable %_ptr_Function_v4float Function
        %249 = OpVariable %_ptr_Function_v4uint Function
        %250 = OpVariable %_ptr_Function_v3float Function
        %251 = OpVariable %_ptr_Function_v4float Function
        %252 = OpVariable %_ptr_Function_v4uint Function
        %253 = OpVariable %_ptr_Function_mat4v4float Function
        %254 = OpVariable %_ptr_Function_v4float Function
        %255 = OpVariable %_ptr_Function_v4float Function
%param_var_GroupID = OpVariable %_ptr_Function_v3uint Function
%param_var_GroupThreadID = OpVariable %_ptr_Function_v3uint Function
        %256 = OpLoad %v3uint %gl_WorkGroupID
               OpStore %param_var_GroupID %256
        %257 = OpLoad %v3uint %gl_LocalInvocationID
               OpStore %param_var_GroupThreadID %257
               OpSelectionMerge %258 None
               OpSwitch %uint_0 %259
        %259 = OpLabel
        %260 = OpAccessChain %_ptr_Function_uint %param_var_GroupThreadID %int_1
        %261 = OpLoad %uint %260
        %262 = OpIMul %uint %261 %uint_8
        %263 = OpAccessChain %_ptr_Function_uint %param_var_GroupThreadID %int_0
        %264 = OpLoad %uint %263
        %265 = OpIAdd %uint %262 %264
        %266 = OpVectorShuffle %v2uint %256 %256 0 1
        %267 = OpIMul %v2uint %266 %62
        %268 = OpVectorShuffle %v2uint %257 %257 0 1
        %269 = OpIAdd %v2uint %267 %268
               OpStore %237 %269
        %270 = OpAccessChain %_ptr_Function_uint %237 %int_0
        %271 = OpLoad %uint %270
        %272 = OpConvertUToF %float %271
        %273 = OpFAdd %float %272 %float_0_5
        %274 = OpAccessChain %_ptr_Uniform_v4float %PER_BATCH %int_4
        %275 = OpAccessChain %_ptr_Uniform_float %274 %int_2
        %276 = OpLoad %float %275
        %277 = OpFMul %float %273 %276
        %278 = OpAccessChain %_ptr_Function_uint %237 %int_1
        %279 = OpLoad %uint %278
        %280 = OpConvertUToF %float %279
        %281 = OpFAdd %float %280 %float_0_5
        %282 = OpAccessChain %_ptr_Uniform_v4float %PER_BATCH %int_4
        %283 = OpAccessChain %_ptr_Uniform_float %282 %int_3
        %284 = OpLoad %float %283
        %285 = OpFMul %float %281 %284
        %286 = OpCompositeConstruct %v2float %277 %285
        %287 = OpIEqual %bool %265 %uint_0
               OpSelectionMerge %288 None
               OpBranchConditional %287 %289 %288
        %289 = OpLabel
               OpStore %sTileLightCount %uint_0
               OpStore %sTileWithinProjection %uint_0
               OpBranch %288
        %288 = OpLabel
               OpControlBarrier %uint_2 %uint_2 %uint_264
        %290 = OpFOrdGreaterThan %v2bool %286 %69
        %291 = OpAll %bool %290
               OpSelectionMerge %292 None
               OpBranchConditional %291 %293 %292
        %293 = OpLabel
        %294 = OpFOrdLessThan %v2bool %286 %72
        %295 = OpAll %bool %294
               OpBranch %292
        %292 = OpLabel
        %296 = OpPhi %bool %false %288 %295 %293
        %297 = OpSelect %uint %296 %uint_1 %uint_0
        %298 = OpAtomicUMax %uint %sTileWithinProjection %uint_1 %uint_0 %297
               OpControlBarrier %uint_2 %uint_2 %uint_264
        %299 = OpLoad %uint %sTileWithinProjection
        %300 = OpIEqual %bool %299 %uint_0
               OpSelectionMerge %301 None
               OpBranchConditional %300 %302 %301
        %302 = OpLabel
               OpBranch %258
        %301 = OpLabel
        %303 = OpAccessChain %_ptr_Uniform_v4float %PER_BATCH %int_4
        %304 = OpLoad %v4float %303
        %305 = OpVectorShuffle %v2float %304 %304 0 1
        %306 = OpFMul %v2float %305 %127
        %307 = OpExtInst %v2float %1 Ceil %306
               OpStore %238 %307
        %308 = OpAccessChain %_ptr_Function_uint %param_var_GroupID %int_1
        %309 = OpLoad %uint %308
        %310 = OpConvertUToF %float %309
        %311 = OpAccessChain %_ptr_Function_float %238 %int_0
        %312 = OpLoad %float %311
        %313 = OpAccessChain %_ptr_Function_uint %param_var_GroupID %int_0
        %314 = OpLoad %uint %313
        %315 = OpConvertUToF %float %314
        %316 = OpExtInst %float %1 Fma %310 %312 %315
        %317 = OpConvertFToU %uint %316
        %318 = OpIMul %uint %317 %uint_8
        %319 = OpULessThan %bool %265 %uint_8
               OpSelectionMerge %320 None
               OpBranchConditional %319 %321 %320
        %321 = OpLabel
        %322 = OpIAdd %uint %318 %265
        %323 = OpLoad %type_buffer_image %TileLightMask
        %324 = OpImageFetch %v4uint %323 %322 None
        %325 = OpCompositeExtract %uint %324 0
        %326 = OpAccessChain %_ptr_Workgroup_uint %sTileLightMask %265
               OpStore %326 %325
        %327 = OpBitCount %uint %325
        %328 = OpAccessChain %_ptr_Workgroup_uint %sTileLightMaskCounts %265
               OpStore %328 %327
        %329 = OpAccessChain %_ptr_Workgroup_uint %sTileLightMaskCounts %265
        %330 = OpLoad %uint %329
        %331 = OpAtomicIAdd %uint %sTileLightCount %uint_1 %uint_0 %330
               OpBranch %320
        %320 = OpLabel
               OpControlBarrier %uint_2 %uint_2 %uint_264
        %332 = OpULessThan %bool %265 %uint_8
               OpSelectionMerge %333 None
               OpBranchConditional %332 %334 %333
        %334 = OpLabel
               OpBranch %335
        %335 = OpLabel
        %336 = OpPhi %uint %uint_0 %334 %337 %338
        %339 = OpPhi %uint %uint_0 %334 %340 %338
        %341 = OpULessThan %bool %339 %265
               OpLoopMerge %342 %338 None
               OpBranchConditional %341 %343 %342
        %343 = OpLabel
        %344 = OpAccessChain %_ptr_Workgroup_uint %sTileLightMaskCounts %339
        %345 = OpLoad %uint %344
        %337 = OpIAdd %uint %336 %345
               OpBranch %338
        %338 = OpLabel
        %340 = OpIAdd %uint %339 %uint_1
               OpBranch %335
        %342 = OpLabel
        %346 = OpAccessChain %_ptr_Workgroup_uint %sTileLightMask %265
        %347 = OpLoad %uint %346
               OpBranch %348
        %348 = OpLabel
               OpBranch %349
        %349 = OpLabel
        %350 = OpBitwiseAnd %uint %347 %uint_4294967295
        %351 = OpExtInst %uint %1 FindILsb %350
        %352 = OpBitcast %int %351
               OpBranch %353
        %353 = OpLabel
        %354 = OpPhi %uint %uint_0 %349 %355 %356
        %357 = OpPhi %int %352 %349 %358 %356
        %359 = OpSGreaterThanEqual %bool %357 %int_0
               OpLoopMerge %360 %356 None
               OpBranchConditional %359 %361 %360
        %361 = OpLabel
        %362 = OpIMul %uint %265 %uint_32
        %363 = OpBitcast %uint %357
        %364 = OpIAdd %uint %362 %363
        %355 = OpIAdd %uint %354 %uint_1
        %365 = OpIAdd %uint %336 %354
        %366 = OpAccessChain %_ptr_Workgroup_uint %sTileLightIndices %365
               OpStore %366 %364
        %367 = OpAccessChain %_ptr_Workgroup_uint %sTileLightMask %265
        %368 = OpLoad %uint %367
        %369 = OpSLessThan %bool %357 %int_31
               OpSelectionMerge %370 None
               OpBranchConditional %369 %371 %372
        %372 = OpLabel
               OpBranch %370
        %371 = OpLabel
        %373 = OpIAdd %int %357 %int_1
        %374 = OpBitwiseAnd %int %373 %int_31
        %375 = OpShiftLeftLogical %int %int_1 %374
        %376 = OpISub %int %375 %int_1
        %377 = OpNot %int %376
               OpBranch %370
        %370 = OpLabel
        %378 = OpPhi %int %int_0 %372 %377 %371
        %379 = OpBitcast %uint %378
        %380 = OpBitwiseAnd %uint %368 %379
        %381 = OpExtInst %uint %1 FindILsb %380
        %358 = OpBitcast %int %381
               OpBranch %356
        %356 = OpLabel
               OpBranch %353
        %360 = OpLabel
               OpBranch %333
        %333 = OpLabel
               OpControlBarrier %uint_2 %uint_2 %uint_264
        %382 = OpLoad %type_2d_image %DepthRT
        %383 = OpImageFetch %v4float %382 %269 Lod %uint_0
        %384 = OpCompositeExtract %float %383 0
        %385 = OpLoad %type_2d_image %NormalRT
        %386 = OpImageFetch %v4float %385 %269 Lod %uint_0
               OpStore %239 %386
        %387 = OpLoad %type_2d_image %SpecularRT
        %388 = OpImageFetch %v4float %387 %269 Lod %uint_0
               OpStore %240 %388
        %389 = OpAccessChain %_ptr_Function_float %239 %int_3
        %390 = OpLoad %float %389
        %391 = OpFMul %float %390 %float_3_99609375
        %392 = OpExtInst %float %1 Floor %391
        %393 = OpConvertFToS %int %392
        %394 = OpVectorShuffle %v3float %386 %386 0 1 2
        %395 = OpVectorTimesScalar %v3float %394 %float_2
        %396 = OpFSub %v3float %395 %88
        %397 = OpExtInst %v3float %1 Normalize %396
        %398 = OpVectorShuffle %v3float %388 %388 1 2 3
               OpStore %235 %398
        %399 = OpIEqual %bool %393 %int_0
        %400 = OpAccessChain %_ptr_Function_float %235 %int_0
        %401 = OpLoad %float %400
        %402 = OpAccessChain %_ptr_Function_float %235 %int_1
        %403 = OpLoad %float %402
        %404 = OpExtInst %float %1 Fma %403 %float_2_00787401 %float_n1
        %405 = OpAccessChain %_ptr_Function_float %235 %int_2
        %406 = OpLoad %float %405
        %407 = OpExtInst %float %1 Fma %406 %float_2_00787401 %float_n1
        %408 = OpCompositeConstruct %v3float %401 %404 %407
               OpStore %235 %408
        %409 = OpLogicalNot %bool %399
               OpSelectionMerge %410 None
               OpBranchConditional %409 %411 %410
        %411 = OpLabel
        %412 = OpLoad %v3float %235
        %413 = OpVectorShuffle %v3float %412 %69 0 3 4
               OpStore %235 %413
               OpBranch %410
        %410 = OpLabel
        %414 = OpAccessChain %_ptr_Function_float %235 %int_0
        %415 = OpLoad %float %414
        %416 = OpAccessChain %_ptr_Function_float %235 %int_2
        %417 = OpLoad %float %416
        %418 = OpExtInst %float %1 Fma %float_1_40199995 %417 %415
        %419 = OpAccessChain %_ptr_Function_float %234 %int_0
               OpStore %419 %418
        %420 = OpLoad %v3float %235
        %421 = OpDot %float %109 %420
        %422 = OpAccessChain %_ptr_Function_float %234 %int_1
               OpStore %422 %421
        %423 = OpAccessChain %_ptr_Function_float %235 %int_0
        %424 = OpLoad %float %423
        %425 = OpAccessChain %_ptr_Function_float %235 %int_1
        %426 = OpLoad %float %425
        %427 = OpExtInst %float %1 Fma %float_1_77199996 %426 %424
        %428 = OpAccessChain %_ptr_Function_float %234 %int_2
               OpStore %428 %427
        %429 = OpLoad %v3float %234
        %430 = OpFMul %v3float %429 %429
        %431 = OpAccessChain %_ptr_Function_float %240 %int_0
        %432 = OpLoad %float %431
        %433 = OpIEqual %bool %393 %int_1
               OpSelectionMerge %434 None
               OpBranchConditional %433 %435 %434
        %435 = OpLabel
        %436 = OpAccessChain %_ptr_Function_float %239 %int_3
        %437 = OpLoad %float %436
        %438 = OpFMul %float %437 %float_3_99609375
        %439 = OpExtInst %float %1 Fract %438
        %440 = OpAccessChain %_ptr_Function_float %240 %int_2
        %441 = OpLoad %float %440
        %442 = OpAccessChain %_ptr_Function_float %240 %int_3
        %443 = OpLoad %float %442
        %444 = OpCompositeConstruct %v3float %439 %441 %443
               OpStore %236 %444
        %445 = OpAccessChain %_ptr_Function_float %236 %int_0
        %446 = OpLoad %float %445
        %447 = OpAccessChain %_ptr_Function_float %236 %int_1
        %448 = OpLoad %float %447
        %449 = OpExtInst %float %1 Fma %448 %float_2_00787401 %float_n1
        %450 = OpAccessChain %_ptr_Function_float %236 %int_2
        %451 = OpLoad %float %450
        %452 = OpExtInst %float %1 Fma %451 %float_2_00787401 %float_n1
        %453 = OpCompositeConstruct %v3float %446 %449 %452
               OpStore %236 %453
               OpBranch %454
        %454 = OpLabel
        %455 = OpAccessChain %_ptr_Function_float %236 %int_0
        %456 = OpLoad %float %455
        %457 = OpAccessChain %_ptr_Function_float %236 %int_2
        %458 = OpLoad %float %457
        %459 = OpExtInst %float %1 Fma %float_1_40199995 %458 %456
        %460 = OpAccessChain %_ptr_Function_float %233 %int_0
               OpStore %460 %459
        %461 = OpLoad %v3float %236
        %462 = OpDot %float %109 %461
        %463 = OpAccessChain %_ptr_Function_float %233 %int_1
               OpStore %463 %462
        %464 = OpAccessChain %_ptr_Function_float %236 %int_0
        %465 = OpLoad %float %464
        %466 = OpAccessChain %_ptr_Function_float %236 %int_1
        %467 = OpLoad %float %466
        %468 = OpExtInst %float %1 Fma %float_1_77199996 %467 %465
        %469 = OpAccessChain %_ptr_Function_float %233 %int_2
               OpStore %469 %468
        %470 = OpLoad %v3float %233
        %471 = OpFMul %v3float %470 %470
               OpBranch %434
        %434 = OpLabel
        %472 = OpPhi %v3float %78 %410 %471 %454
               OpBranch %473
        %473 = OpLabel
        %474 = OpIEqual %bool %393 %int_1
        %475 = OpBitcast %v2int %269
        %476 = OpConvertSToF %v2float %475
        %477 = OpVectorTimesScalar %v2float %476 %384
               OpBranch %478
        %478 = OpLabel
               OpBranch %479
        %479 = OpLabel
        %480 = OpCompositeExtract %float %477 0
        %481 = OpCompositeExtract %float %477 1
        %482 = OpCompositeConstruct %v4float %480 %481 %384 %float_0
        %483 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
        %484 = OpLoad %mat3v4float %483
        %485 = OpVectorTimesMatrix %v3float %482 %484
        %486 = OpLoad %uint %sTileLightCount
        %487 = OpUGreaterThan %bool %486 %uint_0
               OpSelectionMerge %488 None
               OpBranchConditional %487 %489 %490
        %490 = OpLabel
               OpBranch %488
        %489 = OpLabel
        %491 = OpAccessChain %_ptr_Workgroup_uint %sTileLightIndices %int_0
        %492 = OpLoad %uint %491
               OpBranch %488
        %488 = OpLabel
        %493 = OpPhi %uint %uint_0 %490 %492 %489
        %494 = OpBitcast %int %493
        %495 = OpLoad %type_2d_image %ClipVolumeIndexRT
        %496 = OpImageFetch %v4float %495 %269 Lod %uint_0
        %497 = OpCompositeExtract %float %496 0
        %498 = OpFMul %float %497 %float_255
        %499 = OpConvertFToU %uint %498
        %500 = OpBitwiseAnd %uint %499 %uint_63
        %501 = OpAccessChain %_ptr_Uniform_uint %TiledClipVolumeInfo %int_0 %500 %int_0
        %502 = OpLoad %uint %501
        %503 = OpLoad %type_2d_image %ClipVolumeIndexRT
        %504 = OpImageFetch %v4float %503 %269 Lod %uint_0
        %505 = OpCompositeExtract %float %504 1
        %506 = OpExtInst %v3float %1 Normalize %485
        %507 = OpExtInst %v3float %1 Reflect %506 %397
        %508 = OpFNegate %float %432
        %509 = OpExtInst %float %1 Fma %508 %float_6 %float_6
               OpBranch %510
        %510 = OpLabel
        %511 = OpPhi %v3float %78 %488 %512 %513
        %514 = OpPhi %v3float %78 %488 %515 %513
        %516 = OpPhi %float %float_0 %488 %517 %513
        %518 = OpPhi %int %494 %488 %519 %513
        %520 = OpPhi %int %int_0 %488 %521 %513
        %522 = OpBitcast %uint %520
        %523 = OpLoad %uint %sTileLightCount
        %524 = OpULessThan %bool %522 %523
               OpLoopMerge %525 %513 None
               OpBranchConditional %524 %526 %525
        %526 = OpLabel
        %527 = OpBitcast %uint %518
        %528 = OpAccessChain %_ptr_Uniform_uint %TiledLightsShadeInfo %int_0 %527 %int_0
        %529 = OpLoad %uint %528
        %530 = OpBitcast %int %529
        %531 = OpINotEqual %bool %530 %int_1
               OpSelectionMerge %532 None
               OpBranchConditional %531 %533 %532
        %533 = OpLabel
               OpBranch %525
        %532 = OpLabel
        %534 = OpBitcast %uint %518
        %535 = OpAccessChain %_ptr_Uniform_uint %TiledLightsShadeInfo %int_0 %534 %int_3
        %536 = OpLoad %uint %535
               OpSelectionMerge %537 None
               OpSwitch %uint_0 %538
        %538 = OpLabel
        %539 = OpBitwiseAnd %uint %536 %uint_255
        %540 = OpShiftRightLogical %uint %536 %uint_16
        %541 = OpIEqual %bool %539 %uint_255
               OpSelectionMerge %542 None
               OpBranchConditional %541 %543 %544
        %544 = OpLabel
        %545 = OpBitwiseAnd %uint %502 %uint_8
        %546 = OpINotEqual %bool %545 %uint_0
               OpSelectionMerge %547 None
               OpBranchConditional %546 %548 %547
        %548 = OpLabel
        %549 = OpShiftRightLogical %uint %502 %uint_24
        %550 = OpShiftRightLogical %uint %502 %uint_16
        %551 = OpBitwiseAnd %uint %550 %uint_255
        %552 = OpIEqual %bool %539 %549
               OpSelectionMerge %553 None
               OpBranchConditional %552 %554 %555
        %555 = OpLabel
        %556 = OpIEqual %bool %539 %551
               OpSelectionMerge %557 None
               OpBranchConditional %556 %558 %557
        %558 = OpLabel
        %559 = OpFSub %float %float_1 %505
               OpBranch %537
        %557 = OpLabel
               OpBranch %553
        %554 = OpLabel
               OpBranch %537
        %553 = OpLabel
               OpBranch %547
        %547 = OpLabel
        %560 = OpIEqual %bool %499 %539
        %561 = OpLogicalNot %bool %560
               OpSelectionMerge %562 None
               OpBranchConditional %561 %563 %562
        %563 = OpLabel
        %564 = OpIEqual %bool %499 %540
               OpBranch %562
        %562 = OpLabel
        %565 = OpPhi %bool %true %547 %564 %563
               OpSelectionMerge %566 None
               OpBranchConditional %565 %567 %568
        %568 = OpLabel
               OpBranch %566
        %567 = OpLabel
               OpBranch %566
        %566 = OpLabel
        %569 = OpPhi %float %float_0 %568 %float_1 %567
               OpBranch %537
        %543 = OpLabel
               OpBranch %537
        %542 = OpLabel
               OpUnreachable
        %537 = OpLabel
        %570 = OpPhi %float %559 %558 %505 %554 %569 %566 %float_1 %543
        %571 = OpFOrdLessThan %bool %516 %float_1
               OpSelectionMerge %572 None
               OpBranchConditional %571 %573 %572
        %573 = OpLabel
        %574 = OpFOrdGreaterThan %bool %570 %float_0
               OpBranch %572
        %572 = OpLabel
        %575 = OpPhi %bool %false %537 %574 %573
               OpSelectionMerge %576 DontFlatten
               OpBranchConditional %575 %577 %576
        %577 = OpLabel
        %578 = OpBitcast %uint %518
        %579 = OpAccessChain %_ptr_Uniform_v4float %TiledLightsShadeInfo %int_0 %578 %int_4
        %580 = OpLoad %v4float %579
        %581 = OpVectorShuffle %v3float %580 %580 0 1 2
        %582 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
        %583 = OpAccessChain %_ptr_Uniform_float %582 %uint_0 %uint_3
        %584 = OpLoad %float %583
        %585 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
        %586 = OpAccessChain %_ptr_Uniform_float %585 %uint_1 %uint_3
        %587 = OpLoad %float %586
        %588 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
        %589 = OpAccessChain %_ptr_Uniform_float %588 %uint_2 %uint_3
        %590 = OpLoad %float %589
        %591 = OpCompositeConstruct %v3float %584 %587 %590
        %592 = OpFAdd %v3float %485 %591
        %593 = OpFSub %v3float %581 %592
        %594 = OpBitcast %uint %518
        %595 = OpAccessChain %_ptr_Uniform_v4float %TiledLightsShadeInfo %int_0 %594 %int_8 %uint_0
        %596 = OpLoad %v4float %595
        %597 = OpVectorShuffle %v3float %596 %596 0 1 2
        %598 = OpDot %float %597 %593
        %599 = OpAccessChain %_ptr_Function_float %241 %int_0
               OpStore %599 %598
        %600 = OpBitcast %uint %518
        %601 = OpAccessChain %_ptr_Uniform_v4float %TiledLightsShadeInfo %int_0 %600 %int_8 %uint_1
        %602 = OpLoad %v4float %601
        %603 = OpVectorShuffle %v3float %602 %602 0 1 2
        %604 = OpDot %float %603 %593
        %605 = OpAccessChain %_ptr_Function_float %241 %int_1
               OpStore %605 %604
        %606 = OpBitcast %uint %518
        %607 = OpAccessChain %_ptr_Uniform_v4float %TiledLightsShadeInfo %int_0 %606 %int_8 %uint_2
        %608 = OpLoad %v4float %607
        %609 = OpVectorShuffle %v3float %608 %608 0 1 2
        %610 = OpDot %float %609 %593
        %611 = OpAccessChain %_ptr_Function_float %241 %int_2
               OpStore %611 %610
        %612 = OpAccessChain %_ptr_Function_float %241 %int_0
        %613 = OpLoad %float %612
        %614 = OpExtInst %float %1 FAbs %613
        %615 = OpAccessChain %_ptr_Function_float %241 %int_1
        %616 = OpLoad %float %615
        %617 = OpExtInst %float %1 FAbs %616
        %618 = OpExtInst %float %1 NMax %614 %617
        %619 = OpAccessChain %_ptr_Function_float %241 %int_2
        %620 = OpLoad %float %619
        %621 = OpExtInst %float %1 FAbs %620
        %622 = OpExtInst %float %1 NMax %618 %621
        %623 = OpFOrdLessThan %bool %622 %float_1
               OpSelectionMerge %624 DontFlatten
               OpBranchConditional %623 %625 %624
        %625 = OpLabel
        %626 = OpLoad %v3float %241
        %627 = OpFMul %v3float %626 %626
        %628 = OpVectorShuffle %v3float %627 %627 1 2 0
        %629 = OpVectorShuffle %v3float %627 %627 2 0 1
        %630 = OpFAdd %v3float %628 %629
        %631 = OpVectorTimesScalar %v3float %630 %float_0_5
        %632 = OpFSub %v3float %88 %631
        %633 = OpVectorShuffle %v3float %627 %627 1 2 0
        %634 = OpVectorShuffle %v3float %627 %627 2 0 1
        %635 = OpFMul %v3float %633 %634
        %636 = OpVectorTimesScalar %v3float %635 %float_0_333333343
        %637 = OpFAdd %v3float %632 %636
        %638 = OpExtInst %v3float %1 Sqrt %637
        %639 = OpFMul %v3float %626 %638
               OpStore %241 %639
        %640 = OpBitcast %uint %518
        %641 = OpAccessChain %_ptr_Uniform_v4float %TiledLightsShadeInfo %int_0 %640 %int_7
        %642 = OpLoad %v4float %641
               OpStore %242 %642
        %643 = OpBitcast %uint %518
        %644 = OpAccessChain %_ptr_Uniform_v2float %TiledLightsShadeInfo %int_0 %643 %int_5
        %645 = OpAccessChain %_ptr_Uniform_float %644 %int_1
        %646 = OpLoad %float %645
        %647 = OpVectorTimesScalar %v3float %639 %float_1
        %648 = OpFNegate %v3float %647
        %649 = OpDot %float %647 %648
        %650 = OpFAdd %float %float_1 %649
        %651 = OpExtInst %float %1 FClamp %650 %float_0 %float_1
               OpBranch %652
        %652 = OpLabel
        %653 = OpFDiv %float %651 %646
        %654 = OpExtInst %float %1 FClamp %653 %float_0 %float_1
        %655 = OpFMul %float %654 %654
        %656 = OpExtInst %float %1 Fma %float_n2 %654 %float_3
        %657 = OpFMul %float %655 %656
               OpBranch %658
        %658 = OpLabel
        %659 = OpBitcast %uint %518
        %660 = OpAccessChain %_ptr_Uniform_v2float %TiledLightsShadeInfo %int_0 %659 %int_5
        %661 = OpAccessChain %_ptr_Uniform_float %660 %int_0
        %662 = OpLoad %float %661
        %663 = OpFMul %float %657 %662
        %664 = OpBitcast %uint %518
        %665 = OpAccessChain %_ptr_Uniform_uint %TiledLightsShadeInfo %int_0 %664 %int_1
        %666 = OpLoad %uint %665
        %667 = OpBitwiseAnd %uint %666 %uint_65535
        %668 = OpShiftRightLogical %uint %666 %uint_16
        %669 = OpBitwiseAnd %uint %668 %uint_255
        %670 = OpShiftRightLogical %uint %666 %uint_24
        %671 = OpBitwiseAnd %uint %670 %uint_255
        %672 = OpCompositeConstruct %v4uint %667 %669 %671 %uint_0
               OpStore %243 %672
        %673 = OpLoad %type_cube_image_array %DiffuseCubeArray
        %674 = OpLoad %type_sampler %SampStateTrilinearClamp
        %675 = OpAccessChain %_ptr_Function_uint %243 %int_0
        %676 = OpLoad %uint %675
        %677 = OpConvertUToF %float %676
        %678 = OpCompositeExtract %float %397 0
        %679 = OpCompositeExtract %float %397 1
        %680 = OpCompositeExtract %float %397 2
        %681 = OpCompositeConstruct %v4float %678 %679 %680 %677
        %682 = OpAccessChain %_ptr_Function_uint %243 %int_1
        %683 = OpLoad %uint %682
        %684 = OpConvertUToF %float %683
        %685 = OpSampledImage %type_sampled_image %673 %674
        %686 = OpImageSampleExplicitLod %v4float %685 %681 Lod %684
        %687 = OpCompositeExtract %float %686 0
        %688 = OpCompositeExtract %float %686 1
        %689 = OpCompositeExtract %float %686 2
        %690 = OpCompositeConstruct %v3float %687 %688 %689
        %691 = OpVectorShuffle %v4float %686 %690 4 5 6 3
               OpSelectionMerge %692 DontFlatten
               OpBranchConditional %474 %693 %692
        %693 = OpLabel
        %694 = OpLoad %type_cube_image_array %DiffuseCubeArray
        %695 = OpLoad %type_sampler %SampStateTrilinearClamp
        %696 = OpFNegate %v3float %397
        %697 = OpAccessChain %_ptr_Function_uint %243 %int_0
        %698 = OpLoad %uint %697
        %699 = OpConvertUToF %float %698
        %700 = OpCompositeExtract %float %696 0
        %701 = OpCompositeExtract %float %696 1
        %702 = OpCompositeExtract %float %696 2
        %703 = OpCompositeConstruct %v4float %700 %701 %702 %699
        %704 = OpAccessChain %_ptr_Function_uint %243 %int_1
        %705 = OpLoad %uint %704
        %706 = OpConvertUToF %float %705
        %707 = OpSampledImage %type_sampled_image %694 %695
        %708 = OpImageSampleExplicitLod %v4float %707 %703 Lod %706
        %709 = OpCompositeExtract %float %708 0
        %710 = OpCompositeExtract %float %708 1
        %711 = OpCompositeExtract %float %708 2
        %712 = OpCompositeConstruct %v3float %709 %710 %711
        %713 = OpVectorShuffle %v3float %690 %193 0 1 2
        %714 = OpExtInst %v3float %1 Fma %712 %472 %713
        %715 = OpVectorShuffle %v4float %686 %714 4 5 6 3
               OpBranch %692
        %692 = OpLabel
        %716 = OpPhi %v4float %691 %658 %715 %693
        %717 = OpFSub %float %float_1 %516
        %718 = OpFMul %float %717 %663
        %719 = OpFMul %float %718 %570
        %720 = OpVectorShuffle %v3float %716 %716 0 1 2
        %721 = OpVectorShuffle %v3float %642 %642 0 1 2
        %722 = OpVectorTimesScalar %v3float %721 %719
        %723 = OpExtInst %v3float %1 Fma %720 %722 %514
        %724 = OpBitcast %uint %518
        %725 = OpAccessChain %_ptr_Uniform_v4float %TiledLightsShadeInfo %int_0 %724 %int_9 %uint_0
        %726 = OpLoad %v4float %725
        %727 = OpVectorShuffle %v3float %726 %726 0 1 2
        %728 = OpBitcast %uint %518
        %729 = OpAccessChain %_ptr_Uniform_v4float %TiledLightsShadeInfo %int_0 %728 %int_9 %uint_1
        %730 = OpLoad %v4float %729
        %731 = OpVectorShuffle %v3float %730 %730 0 1 2
        %732 = OpExtInst %v3float %1 Normalize %507
        %733 = OpFAdd %v3float %593 %731
        %734 = OpFDiv %v3float %733 %732
        %735 = OpFAdd %v3float %593 %727
        %736 = OpFDiv %v3float %735 %732
        %737 = OpFOrdGreaterThan %v3bool %732 %78
        %738 = OpSelect %v3float %737 %734 %736
               OpStore %232 %738
        %739 = OpAccessChain %_ptr_Function_float %232 %int_0
        %740 = OpLoad %float %739
        %741 = OpAccessChain %_ptr_Function_float %232 %int_1
        %742 = OpLoad %float %741
        %743 = OpExtInst %float %1 NMin %740 %742
        %744 = OpAccessChain %_ptr_Function_float %232 %int_2
        %745 = OpLoad %float %744
        %746 = OpExtInst %float %1 NMin %743 %745
        %747 = OpFNegate %v3float %593
        %748 = OpVectorTimesScalar %v3float %732 %746
        %749 = OpFAdd %v3float %747 %748
        %750 = OpLoad %type_cube_image_array %SpecCubeArray
        %751 = OpLoad %type_sampler %SampStateTrilinearClamp
        %752 = OpAccessChain %_ptr_Function_uint %243 %int_0
        %753 = OpLoad %uint %752
        %754 = OpConvertUToF %float %753
        %755 = OpCompositeExtract %float %749 0
        %756 = OpCompositeExtract %float %749 1
        %757 = OpCompositeExtract %float %749 2
        %758 = OpCompositeConstruct %v4float %755 %756 %757 %754
        %759 = OpAccessChain %_ptr_Function_uint %243 %int_2
        %760 = OpLoad %uint %759
        %761 = OpConvertUToF %float %760
        %762 = OpExtInst %float %1 NMax %509 %761
        %763 = OpSampledImage %type_sampled_image %750 %751
        %764 = OpImageSampleExplicitLod %v4float %763 %758 Lod %762
        %765 = OpCompositeExtract %float %764 0
        %766 = OpCompositeExtract %float %764 1
        %767 = OpCompositeExtract %float %764 2
        %768 = OpCompositeConstruct %v3float %765 %766 %767
        %769 = OpVectorShuffle %v3float %768 %193 0 1 2
        %770 = OpVectorShuffle %v3float %642 %642 0 1 2
        %771 = OpVectorTimesScalar %v3float %770 %719
        %772 = OpFMul %v3float %769 %771
        %773 = OpAccessChain %_ptr_Function_float %242 %int_3
        %774 = OpLoad %float %773
        %775 = OpVectorTimesScalar %v3float %772 %774
        %776 = OpFAdd %v3float %511 %775
        %777 = OpExtInst %float %1 Fma %718 %570 %516
               OpBranch %624
        %624 = OpLabel
        %778 = OpPhi %v3float %511 %577 %776 %692
        %779 = OpPhi %v3float %514 %577 %723 %692
        %780 = OpPhi %float %516 %577 %777 %692
               OpBranch %576
        %576 = OpLabel
        %512 = OpPhi %v3float %511 %572 %778 %624
        %515 = OpPhi %v3float %514 %572 %779 %624
        %517 = OpPhi %float %516 %572 %780 %624
        %521 = OpIAdd %int %520 %int_1
        %781 = OpExtInst %int %1 SMin %521 %int_254
        %782 = OpAccessChain %_ptr_Workgroup_uint %sTileLightIndices %781
        %783 = OpLoad %uint %782
        %519 = OpBitcast %int %783
               OpBranch %513
        %513 = OpLabel
               OpBranch %510
        %525 = OpLabel
               OpBranch %784
        %784 = OpLabel
               OpBranch %785
        %785 = OpLabel
               OpBranch %786
        %786 = OpLabel
               OpBranch %787
        %787 = OpLabel
               OpBranch %788
        %788 = OpLabel
        %789 = OpLoad %type_2d_image %DirectionalOccRT
        %790 = OpImageFetch %v4float %789 %269 Lod %uint_0
        %791 = OpVectorShuffle %v3float %790 %790 0 1 2
        %792 = OpVectorTimesScalar %v3float %791 %float_2
        %793 = OpFSub %v3float %792 %88
        %794 = OpVectorShuffle %v4float %790 %793 4 5 6 3
               OpStore %244 %794
        %795 = OpAccessChain %_ptr_Function_float %244 %int_3
        %796 = OpLoad %float %795
        %797 = OpAccessChain %_ptr_Uniform_v4float %PER_BATCH %int_3
        %798 = OpAccessChain %_ptr_Uniform_float %797 %int_1
        %799 = OpLoad %float %798
        %800 = OpFNegate %float %796
        %801 = OpExtInst %float %1 Fma %800 %799 %float_1
        %802 = OpExtInst %float %1 FClamp %801 %float_0 %float_1
        %803 = OpFMul %float %802 %802
        %804 = OpLoad %type_2d_image %AOColorBleedRT
        %805 = OpLoad %type_sampler %SampStateTrilinearClamp
        %806 = OpSampledImage %type_sampled_image_0 %804 %805
        %807 = OpImageSampleExplicitLod %v4float %806 %286 Lod %float_0
        %808 = OpCompositeExtract %float %807 0
        %809 = OpCompositeExtract %float %807 1
        %810 = OpCompositeExtract %float %807 2
        %811 = OpCompositeConstruct %v3float %808 %809 %810
        %812 = OpCompositeConstruct %v3float %803 %803 %803
        %813 = OpFMul %v3float %811 %811
        %814 = OpFMul %v3float %813 %811
        %815 = OpVectorTimesScalar %v3float %814 %float_3
        %816 = OpExtInst %v3float %1 NMin %815 %91
        %817 = OpFSub %v3float %88 %816
        %818 = OpExtInst %v3float %1 Pow %812 %817
        %819 = OpFMul %v3float %514 %818
        %820 = OpExtInst %v3float %1 Normalize %485
        %821 = OpFNegate %v3float %820
        %822 = OpDot %float %821 %397
        %823 = OpAccessChain %_ptr_Function_float %244 %int_3
        %824 = OpLoad %float %823
        %825 = OpAccessChain %_ptr_Uniform_v4float %PER_BATCH %int_3
        %826 = OpAccessChain %_ptr_Uniform_float %825 %int_2
        %827 = OpLoad %float %826
        %828 = OpFNegate %float %824
        %829 = OpExtInst %float %1 Fma %828 %827 %float_1
        %830 = OpExtInst %float %1 FClamp %829 %float_0 %float_1
        %831 = OpFMul %float %830 %830
        %832 = OpExtInst %float %1 NMax %831 %float_0_300000012
        %833 = OpFAdd %float %822 %832
        %834 = OpExtInst %float %1 Pow %833 %432
        %835 = OpFSub %float %834 %float_1
        %836 = OpFAdd %float %835 %832
        %837 = OpExtInst %float %1 FClamp %836 %float_0 %float_1
        %838 = OpVectorTimesScalar %v3float %511 %837
               OpBranch %839
        %839 = OpLabel
        %840 = OpPhi %v3float %838 %788 %841 %842
        %843 = OpPhi %v3float %819 %788 %844 %842
        %845 = OpPhi %int %518 %788 %846 %842
        %847 = OpPhi %int %520 %788 %848 %842
        %849 = OpBitcast %uint %847
        %850 = OpLoad %uint %sTileLightCount
        %851 = OpULessThan %bool %849 %850
               OpLoopMerge %852 %842 None
               OpBranchConditional %851 %853 %852
        %853 = OpLabel
        %854 = OpBitcast %uint %845
        %855 = OpAccessChain %_ptr_Uniform_uint %TiledLightsShadeInfo %int_0 %854 %int_0
        %856 = OpLoad %uint %855
        %857 = OpBitcast %int %856
        %858 = OpINotEqual %bool %857 %int_4
               OpSelectionMerge %859 None
               OpBranchConditional %858 %860 %859
        %860 = OpLabel
               OpBranch %852
        %859 = OpLabel
        %861 = OpBitcast %uint %845
        %862 = OpAccessChain %_ptr_Uniform_uint %TiledLightsShadeInfo %int_0 %861 %int_3
        %863 = OpLoad %uint %862
               OpSelectionMerge %864 None
               OpSwitch %uint_0 %865
        %865 = OpLabel
        %866 = OpBitwiseAnd %uint %863 %uint_255
        %867 = OpShiftRightLogical %uint %863 %uint_16
        %868 = OpIEqual %bool %866 %uint_255
               OpSelectionMerge %869 None
               OpBranchConditional %868 %870 %871
        %871 = OpLabel
        %872 = OpBitwiseAnd %uint %502 %uint_8
        %873 = OpINotEqual %bool %872 %uint_0
               OpSelectionMerge %874 None
               OpBranchConditional %873 %875 %874
        %875 = OpLabel
        %876 = OpShiftRightLogical %uint %502 %uint_24
        %877 = OpShiftRightLogical %uint %502 %uint_16
        %878 = OpBitwiseAnd %uint %877 %uint_255
        %879 = OpIEqual %bool %866 %876
               OpSelectionMerge %880 None
               OpBranchConditional %879 %881 %882
        %882 = OpLabel
        %883 = OpIEqual %bool %866 %878
               OpSelectionMerge %884 None
               OpBranchConditional %883 %885 %884
        %885 = OpLabel
        %886 = OpFSub %float %float_1 %505
               OpBranch %864
        %884 = OpLabel
               OpBranch %880
        %881 = OpLabel
               OpBranch %864
        %880 = OpLabel
               OpBranch %874
        %874 = OpLabel
        %887 = OpIEqual %bool %499 %866
        %888 = OpLogicalNot %bool %887
               OpSelectionMerge %889 None
               OpBranchConditional %888 %890 %889
        %890 = OpLabel
        %891 = OpIEqual %bool %499 %867
               OpBranch %889
        %889 = OpLabel
        %892 = OpPhi %bool %true %874 %891 %890
               OpSelectionMerge %893 None
               OpBranchConditional %892 %894 %895
        %895 = OpLabel
               OpBranch %893
        %894 = OpLabel
               OpBranch %893
        %893 = OpLabel
        %896 = OpPhi %float %float_0 %895 %float_1 %894
               OpBranch %864
        %870 = OpLabel
               OpBranch %864
        %869 = OpLabel
               OpUnreachable
        %864 = OpLabel
        %897 = OpPhi %float %886 %885 %505 %881 %896 %893 %float_1 %870
        %898 = OpFOrdEqual %bool %897 %float_0
        %899 = OpLogicalNot %bool %898
               OpSelectionMerge %900 DontFlatten
               OpBranchConditional %899 %901 %900
        %901 = OpLabel
        %902 = OpBitcast %uint %845
        %903 = OpAccessChain %_ptr_Uniform_v4float %TiledLightsShadeInfo %int_0 %902 %int_4
        %904 = OpLoad %v4float %903
        %905 = OpVectorShuffle %v3float %904 %904 0 1 2
        %906 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
        %907 = OpAccessChain %_ptr_Uniform_float %906 %uint_0 %uint_3
        %908 = OpLoad %float %907
        %909 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
        %910 = OpAccessChain %_ptr_Uniform_float %909 %uint_1 %uint_3
        %911 = OpLoad %float %910
        %912 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
        %913 = OpAccessChain %_ptr_Uniform_float %912 %uint_2 %uint_3
        %914 = OpLoad %float %913
        %915 = OpCompositeConstruct %v3float %908 %911 %914
        %916 = OpFAdd %v3float %485 %915
        %917 = OpFSub %v3float %905 %916
        %918 = OpBitcast %uint %845
        %919 = OpAccessChain %_ptr_Uniform_v4float %TiledLightsShadeInfo %int_0 %918 %int_4
        %920 = OpAccessChain %_ptr_Uniform_float %919 %int_3
        %921 = OpLoad %float %920
        %922 = OpIEqual %bool %857 %int_4
               OpSelectionMerge %923 DontFlatten
               OpBranchConditional %922 %924 %925
        %925 = OpLabel
        %926 = OpBitcast %uint %845
        %927 = OpAccessChain %_ptr_Uniform_v2float %TiledLightsShadeInfo %int_0 %926 %int_5
        %928 = OpAccessChain %_ptr_Uniform_float %927 %int_0
        %929 = OpLoad %float %928
        %930 = OpFOrdGreaterThan %bool %929 %float_0
               OpSelectionMerge %931 DontFlatten
               OpBranchConditional %930 %932 %933
        %933 = OpLabel
        %934 = OpFDiv %float %float_1 %921
        %935 = OpVectorTimesScalar %v3float %917 %934
        %936 = OpFNegate %v3float %935
        %937 = OpDot %float %935 %936
        %938 = OpFAdd %float %float_1 %937
        %939 = OpExtInst %float %1 FClamp %938 %float_0 %float_1
               OpBranch %940
        %940 = OpLabel
               OpBranch %931
        %932 = OpLabel
        %941 = OpExtInst %float %1 Length %917
        %942 = OpBitcast %uint %845
        %943 = OpAccessChain %_ptr_Uniform_v2float %TiledLightsShadeInfo %int_0 %942 %int_5
        %944 = OpAccessChain %_ptr_Uniform_float %943 %int_0
        %945 = OpLoad %float %944
        %946 = OpFSub %float %921 %941
        %947 = OpFDiv %float %float_5 %921
        %948 = OpFMul %float %946 %947
        %949 = OpExtInst %float %1 FClamp %948 %float_0 %float_1
        %950 = OpFSub %float %941 %945
        %951 = OpExtInst %float %1 NMax %950 %float_0
        %952 = OpFDiv %float %951 %945
        %953 = OpFAdd %float %float_1 %952
        %954 = OpFMul %float %949 %949
        %955 = OpFMul %float %953 %953
        %956 = OpFDiv %float %954 %955
               OpBranch %931
        %931 = OpLabel
        %957 = OpPhi %float %939 %940 %956 %932
        %958 = OpExtInst %v3float %1 Normalize %917
        %959 = OpDot %float %397 %958
        %960 = OpExtInst %float %1 FClamp %959 %float_0 %float_1
        %961 = OpIEqual %bool %857 %int_3
               OpSelectionMerge %962 None
               OpBranchConditional %961 %963 %964
        %964 = OpLabel
        %965 = OpFMul %float %957 %957
               OpBranch %962
        %963 = OpLabel
        %966 = OpFOrdGreaterThan %bool %957 %float_0
               OpSelectionMerge %967 DontFlatten
               OpBranchConditional %966 %968 %967
        %968 = OpLabel
        %969 = OpBitcast %uint %845
        %970 = OpAccessChain %_ptr_Uniform_mat4v4float %TiledLightsShadeInfo %int_0 %969 %int_8
        %971 = OpLoad %mat4v4float %970
        %972 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
        %973 = OpAccessChain %_ptr_Uniform_float %972 %uint_0 %uint_3
        %974 = OpLoad %float %973
        %975 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
        %976 = OpAccessChain %_ptr_Uniform_float %975 %uint_1 %uint_3
        %977 = OpLoad %float %976
        %978 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
        %979 = OpAccessChain %_ptr_Uniform_float %978 %uint_2 %uint_3
        %980 = OpLoad %float %979
        %981 = OpCompositeConstruct %v3float %974 %977 %980
        %982 = OpFAdd %v3float %485 %981
        %983 = OpCompositeExtract %float %982 0
        %984 = OpCompositeExtract %float %982 1
        %985 = OpCompositeExtract %float %982 2
        %986 = OpCompositeConstruct %v4float %983 %984 %985 %float_1
        %987 = OpVectorTimesMatrix %v4float %986 %971
               OpStore %246 %987
        %988 = OpAccessChain %_ptr_Function_float %246 %int_3
        %989 = OpLoad %float %988
        %990 = OpCompositeConstruct %v2float %989 %989
        %991 = OpVectorShuffle %v2float %987 %987 0 1
        %992 = OpFDiv %v2float %991 %990
        %993 = OpVectorShuffle %v4float %987 %992 4 5 2 3
               OpStore %246 %993
        %994 = OpAccessChain %_ptr_Function_float %246 %int_3
        %995 = OpLoad %float %994
        %996 = OpFOrdGreaterThan %bool %995 %float_0
               OpSelectionMerge %997 None
               OpBranchConditional %996 %998 %997
        %998 = OpLabel
        %999 = OpAccessChain %_ptr_Function_float %246 %int_0
       %1000 = OpLoad %float %999
       %1001 = OpExtInst %float %1 Fma %1000 %float_2 %float_n1
       %1002 = OpExtInst %float %1 FAbs %1001
       %1003 = OpAccessChain %_ptr_Function_float %246 %int_1
       %1004 = OpLoad %float %1003
       %1005 = OpExtInst %float %1 Fma %1004 %float_2 %float_n1
       %1006 = OpExtInst %float %1 FAbs %1005
       %1007 = OpExtInst %float %1 NMax %1002 %1006
       %1008 = OpFOrdLessThan %bool %1007 %float_1
               OpBranch %997
        %997 = OpLabel
       %1009 = OpPhi %bool %false %968 %1008 %998
               OpSelectionMerge %1010 None
               OpBranchConditional %1009 %1011 %1010
       %1011 = OpLabel
       %1012 = OpBitcast %uint %845
       %1013 = OpAccessChain %_ptr_Uniform_uint %TiledLightsShadeInfo %int_0 %1012 %int_1
       %1014 = OpLoad %uint %1013
       %1015 = OpBitwiseAnd %uint %1014 %uint_65535
       %1016 = OpShiftRightLogical %uint %1014 %uint_16
       %1017 = OpBitwiseAnd %uint %1016 %uint_255
       %1018 = OpShiftRightLogical %uint %1014 %uint_24
       %1019 = OpBitwiseAnd %uint %1018 %uint_255
       %1020 = OpCompositeConstruct %v4uint %1015 %1017 %1019 %uint_0
               OpStore %247 %1020
       %1021 = OpLoad %type_2d_image_array %SpotTexArray
       %1022 = OpLoad %type_sampler %SampStateTrilinearClamp
       %1023 = OpLoad %v4float %246
       %1024 = OpAccessChain %_ptr_Function_uint %247 %int_0
       %1025 = OpLoad %uint %1024
       %1026 = OpConvertUToF %float %1025
       %1027 = OpCompositeExtract %float %1023 0
       %1028 = OpCompositeExtract %float %1023 1
       %1029 = OpCompositeConstruct %v3float %1027 %1028 %1026
       %1030 = OpAccessChain %_ptr_Function_uint %247 %int_1
       %1031 = OpLoad %uint %1030
       %1032 = OpConvertUToF %float %1031
       %1033 = OpSampledImage %type_sampled_image_1 %1021 %1022
       %1034 = OpImageSampleExplicitLod %v4float %1033 %1029 Lod %1032
       %1035 = OpCompositeExtract %float %1034 0
               OpBranch %1010
       %1010 = OpLabel
       %1036 = OpPhi %float %float_0 %997 %1035 %1011
               OpBranch %967
        %967 = OpLabel
       %1037 = OpPhi %float %float_0 %963 %1036 %1010
               OpBranch %962
        %962 = OpLabel
       %1038 = OpPhi %float %float_1 %964 %1037 %967
       %1039 = OpPhi %float %965 %964 %957 %967
               OpBranch %923
        %924 = OpLabel
       %1040 = OpBitcast %uint %845
       %1041 = OpAccessChain %_ptr_Uniform_mat4v4float %TiledLightsShadeInfo %int_0 %1040 %int_8
       %1042 = OpLoad %mat4v4float %1041
               OpStore %245 %1042
       %1043 = OpAccessChain %_ptr_Function_v4float %245 %uint_0
       %1044 = OpLoad %v4float %1043
       %1045 = OpVectorShuffle %v3float %1044 %1044 0 1 2
       %1046 = OpAccessChain %_ptr_Function_v4float %245 %uint_0
       %1047 = OpLoad %v4float %1046
       %1048 = OpVectorShuffle %v3float %1047 %1047 0 1 2
       %1049 = OpDot %float %1048 %917
       %1050 = OpVectorTimesScalar %v3float %1045 %1049
       %1051 = OpFSub %v3float %1050 %917
       %1052 = OpAccessChain %_ptr_Function_v4float %245 %uint_1
       %1053 = OpLoad %v4float %1052
       %1054 = OpVectorShuffle %v3float %1053 %1053 0 1 2
       %1055 = OpDot %float %1051 %1054
       %1056 = OpAccessChain %_ptr_Function_v4float %245 %uint_2
       %1057 = OpLoad %v4float %1056
       %1058 = OpVectorShuffle %v3float %1057 %1057 0 1 2
       %1059 = OpDot %float %1051 %1058
       %1060 = OpCompositeConstruct %v2float %1055 %1059
       %1061 = OpAccessChain %_ptr_Function_v4float %245 %uint_3
       %1062 = OpLoad %v4float %1061
       %1063 = OpVectorShuffle %v2float %1062 %1062 0 1
       %1064 = OpFNegate %v2float %1063
       %1065 = OpAccessChain %_ptr_Function_v4float %245 %uint_3
       %1066 = OpLoad %v4float %1065
       %1067 = OpVectorShuffle %v2float %1066 %1066 0 1
       %1068 = OpExtInst %v2float %1 FClamp %1060 %1064 %1067
               OpStore %231 %1068
       %1069 = OpAccessChain %_ptr_Function_v4float %245 %uint_1
       %1070 = OpLoad %v4float %1069
       %1071 = OpVectorShuffle %v3float %1070 %1070 0 1 2
       %1072 = OpAccessChain %_ptr_Function_float %231 %int_0
       %1073 = OpLoad %float %1072
       %1074 = OpVectorTimesScalar %v3float %1071 %1073
       %1075 = OpAccessChain %_ptr_Function_v4float %245 %uint_2
       %1076 = OpLoad %v4float %1075
       %1077 = OpVectorShuffle %v3float %1076 %1076 0 1 2
       %1078 = OpAccessChain %_ptr_Function_float %231 %int_1
       %1079 = OpLoad %float %1078
       %1080 = OpVectorTimesScalar %v3float %1077 %1079
       %1081 = OpFAdd %v3float %1074 %1080
       %1082 = OpFAdd %v3float %917 %1081
       %1083 = OpFDiv %float %float_1 %921
       %1084 = OpVectorTimesScalar %v3float %1082 %1083
       %1085 = OpFNegate %v3float %1084
       %1086 = OpDot %float %1084 %1085
       %1087 = OpFAdd %float %float_1 %1086
       %1088 = OpExtInst %float %1 FClamp %1087 %float_0 %float_1
               OpBranch %1089
       %1089 = OpLabel
       %1090 = OpExtInst %v3float %1 Normalize %1082
       %1091 = OpFNegate %v3float %1090
       %1092 = OpBitcast %uint %845
       %1093 = OpAccessChain %_ptr_Uniform_v4float %TiledLightsShadeInfo %int_0 %1092 %int_8 %uint_0
       %1094 = OpLoad %v4float %1093
       %1095 = OpVectorShuffle %v3float %1094 %1094 0 1 2
       %1096 = OpDot %float %1091 %1095
       %1097 = OpBitcast %uint %845
       %1098 = OpAccessChain %_ptr_Uniform_v4float %TiledLightsShadeInfo %int_0 %1097 %int_8 %uint_3
       %1099 = OpAccessChain %_ptr_Uniform_float %1098 %int_3
       %1100 = OpLoad %float %1099
       %1101 = OpFAdd %float %1096 %float_9_99999997en07
       %1102 = OpFDiv %float %1100 %1101
       %1103 = OpExtInst %float %1 FClamp %1102 %float_0 %float_1
       %1104 = OpExtInst %float %1 Pow %1103 %921
       %1105 = OpFSub %float %float_1 %1104
       %1106 = OpFMul %float %1088 %1105
       %1107 = OpFMul %float %1106 %1106
       %1108 = OpDot %float %397 %1090
       %1109 = OpExtInst %float %1 FClamp %1108 %float_0 %float_1
       %1110 = OpExtInst %float %1 FClamp %1096 %float_0 %float_1
       %1111 = OpFMul %float %1109 %1110
               OpBranch %923
        %923 = OpLabel
       %1112 = OpPhi %float %1038 %962 %float_1 %1089
       %1113 = OpPhi %float %1039 %962 %1107 %1089
       %1114 = OpPhi %float %float_1 %962 %1096 %1089
       %1115 = OpPhi %float %960 %962 %1111 %1089
       %1116 = OpPhi %v3float %958 %962 %1090 %1089
       %1117 = OpBitcast %uint %845
       %1118 = OpAccessChain %_ptr_Uniform_v4float %TiledLightsShadeInfo %int_0 %1117 %int_7
       %1119 = OpLoad %v4float %1118
       %1120 = OpVectorShuffle %v3float %1119 %1119 0 1 2
       %1121 = OpVectorShuffle %v3float %793 %193 0 1 2
       %1122 = OpDot %float %1116 %1121
       %1123 = OpAccessChain %_ptr_Uniform_v4float %PER_BATCH %int_3
       %1124 = OpAccessChain %_ptr_Uniform_float %1123 %int_0
       %1125 = OpLoad %float %1124
       %1126 = OpFMul %float %1122 %1125
       %1127 = OpExtInst %float %1 FClamp %1126 %float_0 %float_1
       %1128 = OpFSub %float %float_1 %1127
       %1129 = OpExtInst %float %1 Fma %float_0_699999988 %1128 %float_0_300000012
       %1130 = OpFOrdGreaterThan %v3bool %1120 %88
       %1131 = OpCompositeConstruct %v3float %1115 %1115 %1115
       %1132 = OpVectorTimesScalar %v3float %1131 %1129
       %1133 = OpCompositeConstruct %v3float %1114 %1114 %1114
       %1134 = OpExtInst %v3float %1 FClamp %1133 %78 %88
       %1135 = OpSelect %v3float %1130 %1132 %1134
       %1136 = OpFMul %float %1113 %897
       %1137 = OpFMul %float %1136 %1112
       %1138 = OpVectorTimesScalar %v3float %1135 %1137
       %1139 = OpExtInst %v3float %1 FMix %88 %1120 %1138
       %1140 = OpFMul %v3float %843 %1139
       %1141 = OpFMul %v3float %840 %1139
               OpBranch %900
        %900 = OpLabel
        %841 = OpPhi %v3float %840 %864 %1141 %923
        %844 = OpPhi %v3float %843 %864 %1140 %923
        %848 = OpIAdd %int %847 %int_1
       %1142 = OpExtInst %int %1 SMin %848 %int_254
       %1143 = OpAccessChain %_ptr_Workgroup_uint %sTileLightIndices %1142
       %1144 = OpLoad %uint %1143
        %846 = OpBitcast %int %1144
               OpBranch %842
        %842 = OpLabel
               OpBranch %839
        %852 = OpLabel
       %1145 = OpLoad %type_2d_image %EnvBRDF
       %1146 = OpLoad %type_sampler %SampStateTrilinearClamp
       %1147 = OpExtInst %v3float %1 Normalize %485
       %1148 = OpFNegate %v3float %1147
       %1149 = OpDot %float %1148 %397
       %1150 = OpCompositeConstruct %v2float %1149 %432
       %1151 = OpSampledImage %type_sampled_image_0 %1145 %1146
       %1152 = OpImageSampleExplicitLod %v4float %1151 %1150 Lod %float_0
       %1153 = OpVectorShuffle %v3float %1152 %194 0 0 0
       %1154 = OpVectorShuffle %v3float %1152 %194 1 1 1
       %1155 = OpExtInst %v3float %1 FMix %1153 %1154 %430
       %1156 = OpFMul %v3float %840 %1155
       %1157 = OpLoad %type_2d_image %CausticsRT
       %1158 = OpImageFetch %v4float %1157 %269 Lod %uint_0
       %1159 = OpVectorShuffle %v3float %1158 %1158 0 1 2
       %1160 = OpFAdd %v3float %843 %1159
               OpBranch %1161
       %1161 = OpLabel
       %1162 = OpPhi %int %845 %852 %1163 %1164
       %1165 = OpPhi %v3float %1156 %852 %1166 %1164
       %1167 = OpPhi %v3float %1160 %852 %1168 %1164
       %1169 = OpPhi %int %847 %852 %1170 %1164
       %1171 = OpBitcast %uint %1169
       %1172 = OpLoad %uint %sTileLightCount
       %1173 = OpULessThan %bool %1171 %1172
               OpLoopMerge %1174 %1164 None
               OpBranchConditional %1173 %1175 %1174
       %1175 = OpLabel
       %1176 = OpBitcast %uint %1162
       %1177 = OpAccessChain %_ptr_Uniform_uint %TiledLightsShadeInfo %int_0 %1176 %int_0
       %1178 = OpLoad %uint %1177
       %1179 = OpBitcast %int %1178
       %1180 = OpBitcast %uint %1162
       %1181 = OpAccessChain %_ptr_Uniform_v4float %TiledLightsShadeInfo %int_0 %1180 %int_4
       %1182 = OpLoad %v4float %1181
       %1183 = OpVectorShuffle %v3float %1182 %1182 0 1 2
       %1184 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
       %1185 = OpAccessChain %_ptr_Uniform_float %1184 %uint_0 %uint_3
       %1186 = OpLoad %float %1185
       %1187 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
       %1188 = OpAccessChain %_ptr_Uniform_float %1187 %uint_1 %uint_3
       %1189 = OpLoad %float %1188
       %1190 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
       %1191 = OpAccessChain %_ptr_Uniform_float %1190 %uint_2 %uint_3
       %1192 = OpLoad %float %1191
       %1193 = OpCompositeConstruct %v3float %1186 %1189 %1192
       %1194 = OpFAdd %v3float %485 %1193
       %1195 = OpFSub %v3float %1183 %1194
       %1196 = OpBitcast %uint %1162
       %1197 = OpAccessChain %_ptr_Uniform_v4float %TiledLightsShadeInfo %int_0 %1196 %int_4
       %1198 = OpAccessChain %_ptr_Uniform_float %1197 %int_3
       %1199 = OpLoad %float %1198
       %1200 = OpIEqual %bool %1179 %int_9
               OpSelectionMerge %1201 DontFlatten
               OpBranchConditional %1200 %1202 %1203
       %1203 = OpLabel
       %1204 = OpBitcast %uint %1162
       %1205 = OpAccessChain %_ptr_Uniform_uint %TiledLightsShadeInfo %int_0 %1204 %int_3
       %1206 = OpLoad %uint %1205
               OpSelectionMerge %1207 None
               OpSwitch %uint_0 %1208
       %1208 = OpLabel
       %1209 = OpBitwiseAnd %uint %1206 %uint_255
       %1210 = OpShiftRightLogical %uint %1206 %uint_16
       %1211 = OpIEqual %bool %1209 %uint_255
               OpSelectionMerge %1212 None
               OpBranchConditional %1211 %1213 %1214
       %1214 = OpLabel
       %1215 = OpBitwiseAnd %uint %502 %uint_8
       %1216 = OpINotEqual %bool %1215 %uint_0
               OpSelectionMerge %1217 None
               OpBranchConditional %1216 %1218 %1217
       %1218 = OpLabel
       %1219 = OpShiftRightLogical %uint %502 %uint_24
       %1220 = OpShiftRightLogical %uint %502 %uint_16
       %1221 = OpBitwiseAnd %uint %1220 %uint_255
       %1222 = OpIEqual %bool %1209 %1219
               OpSelectionMerge %1223 None
               OpBranchConditional %1222 %1224 %1225
       %1225 = OpLabel
       %1226 = OpIEqual %bool %1209 %1221
               OpSelectionMerge %1227 None
               OpBranchConditional %1226 %1228 %1227
       %1228 = OpLabel
       %1229 = OpFSub %float %float_1 %505
               OpBranch %1207
       %1227 = OpLabel
               OpBranch %1223
       %1224 = OpLabel
               OpBranch %1207
       %1223 = OpLabel
               OpBranch %1217
       %1217 = OpLabel
       %1230 = OpIEqual %bool %499 %1209
       %1231 = OpLogicalNot %bool %1230
               OpSelectionMerge %1232 None
               OpBranchConditional %1231 %1233 %1232
       %1233 = OpLabel
       %1234 = OpIEqual %bool %499 %1210
               OpBranch %1232
       %1232 = OpLabel
       %1235 = OpPhi %bool %true %1217 %1234 %1233
               OpSelectionMerge %1236 None
               OpBranchConditional %1235 %1237 %1238
       %1238 = OpLabel
               OpBranch %1236
       %1237 = OpLabel
               OpBranch %1236
       %1236 = OpLabel
       %1239 = OpPhi %float %float_0 %1238 %float_1 %1237
               OpBranch %1207
       %1213 = OpLabel
               OpBranch %1207
       %1212 = OpLabel
               OpUnreachable
       %1207 = OpLabel
       %1240 = OpPhi %float %1229 %1228 %505 %1224 %1239 %1236 %float_1 %1213
       %1241 = OpExtInst %float %1 Length %1195
       %1242 = OpBitcast %uint %1162
       %1243 = OpAccessChain %_ptr_Uniform_v2float %TiledLightsShadeInfo %int_0 %1242 %int_5
       %1244 = OpAccessChain %_ptr_Uniform_float %1243 %int_0
       %1245 = OpLoad %float %1244
       %1246 = OpFSub %float %1199 %1241
       %1247 = OpFDiv %float %float_5 %1199
       %1248 = OpFMul %float %1246 %1247
       %1249 = OpExtInst %float %1 FClamp %1248 %float_0 %float_1
       %1250 = OpFSub %float %1241 %1245
       %1251 = OpExtInst %float %1 NMax %1250 %float_0
       %1252 = OpFDiv %float %1251 %1245
       %1253 = OpFAdd %float %float_1 %1252
       %1254 = OpFMul %float %1249 %1249
       %1255 = OpFMul %float %1253 %1253
       %1256 = OpFDiv %float %1254 %1255
       %1257 = OpFMul %float %1256 %1240
       %1258 = OpExtInst %v3float %1 Normalize %1195
               OpBranch %1201
       %1202 = OpLabel
       %1259 = OpAccessChain %_ptr_Uniform_v4float %PER_BATCH %int_2
       %1260 = OpLoad %v4float %1259
       %1261 = OpVectorShuffle %v3float %1260 %1260 0 1 2
       %1262 = OpAccessChain %_ptr_Uniform_uint %TiledClipVolumeInfo %int_0 %499 %int_0
       %1263 = OpLoad %uint %1262
       %1264 = OpBitwiseAnd %uint %1263 %uint_4
       %1265 = OpINotEqual %bool %1264 %uint_0
               OpSelectionMerge %1266 None
               OpBranchConditional %1265 %1267 %1268
       %1268 = OpLabel
               OpBranch %1266
       %1267 = OpLabel
               OpBranch %1266
       %1266 = OpLabel
       %1269 = OpPhi %float %float_0 %1268 %float_1 %1267
               OpBranch %1201
       %1201 = OpLabel
       %1270 = OpPhi %float %1257 %1207 %1269 %1266
       %1271 = OpPhi %v3float %1258 %1207 %1261 %1266
       %1272 = OpDot %float %397 %1271
       %1273 = OpExtInst %float %1 FClamp %1272 %float_0 %float_1
       %1274 = OpFOrdGreaterThan %bool %1270 %float_0
               OpSelectionMerge %1275 None
               OpBranchConditional %1274 %1276 %1275
       %1276 = OpLabel
       %1277 = OpFOrdGreaterThan %bool %1273 %float_0
       %1278 = OpLogicalNot %bool %1277
               OpSelectionMerge %1279 None
               OpBranchConditional %1278 %1280 %1279
       %1280 = OpLabel
               OpBranch %1279
       %1279 = OpLabel
       %1281 = OpPhi %bool %true %1276 %474 %1280
       %1282 = OpLogicalNot %bool %1281
               OpSelectionMerge %1283 None
               OpBranchConditional %1282 %1284 %1283
       %1284 = OpLabel
       %1285 = OpIEqual %bool %1179 %int_8
               OpBranch %1283
       %1283 = OpLabel
       %1286 = OpPhi %bool %true %1279 %1285 %1284
               OpBranch %1275
       %1275 = OpLabel
       %1287 = OpPhi %bool %false %1201 %1286 %1283
               OpSelectionMerge %1288 DontFlatten
               OpBranchConditional %1287 %1289 %1288
       %1289 = OpLabel
       %1290 = OpBitcast %uint %1162
       %1291 = OpAccessChain %_ptr_Uniform_v2float %TiledLightsShadeInfo %int_0 %1290 %int_6
       %1292 = OpAccessChain %_ptr_Uniform_float %1291 %int_0
       %1293 = OpLoad %float %1292
       %1294 = OpFOrdGreaterThan %bool %1293 %float_0
       %1295 = OpINotEqual %bool %1179 %int_9
               OpSelectionMerge %1296 DontFlatten
               OpBranchConditional %1295 %1297 %1296
       %1297 = OpLabel
       %1298 = OpIEqual %bool %1179 %int_6
               OpSelectionMerge %1299 DontFlatten
               OpBranchConditional %1298 %1300 %1301
       %1301 = OpLabel
       %1302 = OpIEqual %bool %1179 %int_7
               OpSelectionMerge %1303 None
               OpBranchConditional %1302 %1304 %1303
       %1304 = OpLabel
       %1305 = OpBitcast %uint %1162
       %1306 = OpAccessChain %_ptr_Uniform_uint %TiledLightsShadeInfo %int_0 %1305 %int_1
       %1307 = OpLoad %uint %1306
               OpStore %250 %1271
       %1308 = OpExtInst %v3float %1 FAbs %1271
               OpStore %227 %1308
       %1309 = OpAccessChain %_ptr_Function_float %227 %int_0
       %1310 = OpLoad %float %1309
       %1311 = OpAccessChain %_ptr_Function_float %227 %int_1
       %1312 = OpLoad %float %1311
       %1313 = OpFOrdGreaterThan %bool %1310 %1312
       %1314 = OpAccessChain %_ptr_Function_float %227 %int_1
       %1315 = OpLoad %float %1314
       %1316 = OpAccessChain %_ptr_Function_float %227 %int_2
       %1317 = OpLoad %float %1316
       %1318 = OpFOrdGreaterThan %bool %1315 %1317
       %1319 = OpAccessChain %_ptr_Function_float %227 %int_0
       %1320 = OpLoad %float %1319
       %1321 = OpAccessChain %_ptr_Function_float %227 %int_2
       %1322 = OpLoad %float %1321
       %1323 = OpFOrdGreaterThan %bool %1320 %1322
       %1324 = OpCompositeConstruct %v3bool %1313 %1318 %1323
               OpStore %228 %1324
       %1325 = OpAccessChain %_ptr_Function_float %227 %int_0
       %1326 = OpLoad %float %1325
       %1327 = OpAccessChain %_ptr_Function_float %227 %int_1
       %1328 = OpLoad %float %1327
       %1329 = OpFOrdLessThanEqual %bool %1326 %1328
       %1330 = OpAccessChain %_ptr_Function_float %227 %int_1
       %1331 = OpLoad %float %1330
       %1332 = OpAccessChain %_ptr_Function_float %227 %int_2
       %1333 = OpLoad %float %1332
       %1334 = OpFOrdLessThanEqual %bool %1331 %1333
       %1335 = OpAccessChain %_ptr_Function_float %227 %int_0
       %1336 = OpLoad %float %1335
       %1337 = OpAccessChain %_ptr_Function_float %227 %int_2
       %1338 = OpLoad %float %1337
       %1339 = OpFOrdLessThanEqual %bool %1336 %1338
       %1340 = OpCompositeConstruct %v3bool %1329 %1334 %1339
               OpStore %229 %1340
       %1341 = OpAccessChain %_ptr_Function_float %250 %int_0
       %1342 = OpLoad %float %1341
       %1343 = OpAccessChain %_ptr_Function_float %227 %int_0
       %1344 = OpLoad %float %1343
       %1345 = OpFOrdEqual %bool %1342 %1344
       %1346 = OpAccessChain %_ptr_Function_float %250 %int_1
       %1347 = OpLoad %float %1346
       %1348 = OpAccessChain %_ptr_Function_float %227 %int_1
       %1349 = OpLoad %float %1348
       %1350 = OpFOrdEqual %bool %1347 %1349
       %1351 = OpAccessChain %_ptr_Function_float %250 %int_2
       %1352 = OpLoad %float %1351
       %1353 = OpAccessChain %_ptr_Function_float %227 %int_2
       %1354 = OpLoad %float %1353
       %1355 = OpFOrdEqual %bool %1352 %1354
       %1356 = OpCompositeConstruct %v3bool %1345 %1350 %1355
               OpStore %230 %1356
       %1357 = OpAccessChain %_ptr_Function_bool %228 %int_0
       %1358 = OpLoad %bool %1357
       %1359 = OpSelect %int %1358 %int_1 %int_0
       %1360 = OpAccessChain %_ptr_Function_bool %228 %int_2
       %1361 = OpLoad %bool %1360
       %1362 = OpSelect %int %1361 %int_1 %int_0
       %1363 = OpIMul %int %1359 %1362
       %1364 = OpAccessChain %_ptr_Function_bool %230 %int_0
       %1365 = OpLoad %bool %1364
       %1366 = OpSelect %int %1365 %int_1 %int_0
       %1367 = OpIMul %int %1363 %1366
       %1368 = OpAccessChain %_ptr_Function_bool %229 %int_0
       %1369 = OpLoad %bool %1368
       %1370 = OpSelect %int %1369 %int_1 %int_0
       %1371 = OpAccessChain %_ptr_Function_bool %228 %int_1
       %1372 = OpLoad %bool %1371
       %1373 = OpSelect %int %1372 %int_1 %int_0
       %1374 = OpIMul %int %1370 %1373
       %1375 = OpAccessChain %_ptr_Function_bool %230 %int_1
       %1376 = OpLoad %bool %1375
       %1377 = OpSelect %int %1376 %int_1 %int_0
       %1378 = OpIAdd %int %int_2 %1377
       %1379 = OpIMul %int %1374 %1378
       %1380 = OpIAdd %int %1367 %1379
       %1381 = OpAccessChain %_ptr_Function_bool %229 %int_2
       %1382 = OpLoad %bool %1381
       %1383 = OpSelect %int %1382 %int_1 %int_0
       %1384 = OpAccessChain %_ptr_Function_bool %229 %int_1
       %1385 = OpLoad %bool %1384
       %1386 = OpSelect %int %1385 %int_1 %int_0
       %1387 = OpIMul %int %1383 %1386
       %1388 = OpAccessChain %_ptr_Function_bool %230 %int_2
       %1389 = OpLoad %bool %1388
       %1390 = OpSelect %int %1389 %int_1 %int_0
       %1391 = OpIAdd %int %int_4 %1390
       %1392 = OpIMul %int %1387 %1391
       %1393 = OpIAdd %int %1380 %1392
       %1394 = OpBitcast %uint %1393
       %1395 = OpINotEqual %bool %1307 %1394
               OpBranch %1303
       %1303 = OpLabel
       %1396 = OpPhi %bool %false %1301 %1395 %1304
               OpBranch %1299
       %1300 = OpLabel
       %1397 = OpBitcast %uint %1162
       %1398 = OpAccessChain %_ptr_Uniform_mat4v4float %TiledLightsShadeInfo %int_0 %1397 %int_8
       %1399 = OpLoad %mat4v4float %1398
       %1400 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
       %1401 = OpAccessChain %_ptr_Uniform_float %1400 %uint_0 %uint_3
       %1402 = OpLoad %float %1401
       %1403 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
       %1404 = OpAccessChain %_ptr_Uniform_float %1403 %uint_1 %uint_3
       %1405 = OpLoad %float %1404
       %1406 = OpAccessChain %_ptr_Uniform_mat3v4float %CBPerViewGlobal %int_7
       %1407 = OpAccessChain %_ptr_Uniform_float %1406 %uint_2 %uint_3
       %1408 = OpLoad %float %1407
       %1409 = OpCompositeConstruct %v3float %1402 %1405 %1408
       %1410 = OpFAdd %v3float %485 %1409
       %1411 = OpCompositeExtract %float %1410 0
       %1412 = OpCompositeExtract %float %1410 1
       %1413 = OpCompositeExtract %float %1410 2
       %1414 = OpCompositeConstruct %v4float %1411 %1412 %1413 %float_1
       %1415 = OpVectorTimesMatrix %v4float %1414 %1399
               OpStore %248 %1415
       %1416 = OpAccessChain %_ptr_Function_float %248 %int_3
       %1417 = OpLoad %float %1416
       %1418 = OpCompositeConstruct %v2float %1417 %1417
       %1419 = OpVectorShuffle %v2float %1415 %1415 0 1
       %1420 = OpFDiv %v2float %1419 %1418
       %1421 = OpVectorShuffle %v4float %1415 %1420 4 5 2 3
               OpStore %248 %1421
       %1422 = OpAccessChain %_ptr_Function_float %248 %int_3
       %1423 = OpLoad %float %1422
       %1424 = OpFOrdLessThan %bool %1423 %float_0
       %1425 = OpLogicalNot %bool %1424
               OpSelectionMerge %1426 None
               OpBranchConditional %1425 %1427 %1426
       %1427 = OpLabel
       %1428 = OpAccessChain %_ptr_Function_float %248 %int_0
       %1429 = OpLoad %float %1428
       %1430 = OpExtInst %float %1 Fma %1429 %float_2 %float_n1
       %1431 = OpExtInst %float %1 FAbs %1430
       %1432 = OpAccessChain %_ptr_Function_float %248 %int_1
       %1433 = OpLoad %float %1432
       %1434 = OpExtInst %float %1 Fma %1433 %float_2 %float_n1
       %1435 = OpExtInst %float %1 FAbs %1434
       %1436 = OpExtInst %float %1 NMax %1431 %1435
       %1437 = OpFOrdGreaterThan %bool %1436 %float_1
               OpBranch %1426
       %1426 = OpLabel
       %1438 = OpPhi %bool %true %1300 %1437 %1427
               OpSelectionMerge %1439 DontFlatten
               OpBranchConditional %1438 %1440 %1441
       %1441 = OpLabel
       %1442 = OpBitcast %uint %1162
       %1443 = OpAccessChain %_ptr_Uniform_uint %TiledLightsShadeInfo %int_0 %1442 %int_1
       %1444 = OpLoad %uint %1443
       %1445 = OpBitwiseAnd %uint %1444 %uint_65535
       %1446 = OpShiftRightLogical %uint %1444 %uint_16
       %1447 = OpBitwiseAnd %uint %1446 %uint_255
       %1448 = OpShiftRightLogical %uint %1444 %uint_24
       %1449 = OpBitwiseAnd %uint %1448 %uint_255
       %1450 = OpCompositeConstruct %v4uint %1445 %1447 %1449 %uint_0
               OpStore %249 %1450
       %1451 = OpLoad %type_2d_image_array %SpotTexArray
       %1452 = OpLoad %type_sampler %SampStateTrilinearClamp
       %1453 = OpLoad %v4float %248
       %1454 = OpAccessChain %_ptr_Function_uint %249 %int_0
       %1455 = OpLoad %uint %1454
       %1456 = OpConvertUToF %float %1455
       %1457 = OpCompositeExtract %float %1453 0
       %1458 = OpCompositeExtract %float %1453 1
       %1459 = OpCompositeConstruct %v3float %1457 %1458 %1456
       %1460 = OpAccessChain %_ptr_Function_uint %249 %int_1
       %1461 = OpLoad %uint %1460
       %1462 = OpConvertUToF %float %1461
       %1463 = OpSampledImage %type_sampled_image_1 %1451 %1452
       %1464 = OpImageSampleExplicitLod %v4float %1463 %1459 Lod %1462
       %1465 = OpCompositeExtract %float %1464 0
               OpBranch %1439
       %1440 = OpLabel
               OpBranch %1439
       %1439 = OpLabel
       %1466 = OpPhi %float %1465 %1441 %float_1 %1440
       %1467 = OpPhi %bool %false %1441 %true %1440
               OpBranch %1299
       %1299 = OpLabel
       %1468 = OpPhi %float %float_1 %1303 %1466 %1439
       %1469 = OpPhi %bool %1396 %1303 %1467 %1439
               OpBranch %1296
       %1296 = OpLabel
       %1470 = OpPhi %float %float_1 %1289 %1468 %1299
       %1471 = OpPhi %bool %false %1289 %1469 %1299
       %1472 = OpLogicalNot %bool %1471
               OpSelectionMerge %1473 DontFlatten
               OpBranchConditional %1472 %1474 %1473
       %1474 = OpLabel
       %1475 = OpBitcast %uint %1162
       %1476 = OpAccessChain %_ptr_Uniform_v4float %TiledLightsShadeInfo %int_0 %1475 %int_7
       %1477 = OpLoad %v4float %1476
               OpStore %251 %1477
               OpSelectionMerge %1478 DontFlatten
               OpBranchConditional %1294 %1479 %1478
       %1479 = OpLabel
       %1480 = OpBitcast %uint %1162
       %1481 = OpAccessChain %_ptr_Uniform_uint %TiledLightsShadeInfo %int_0 %1480 %int_2
       %1482 = OpLoad %uint %1481
       %1483 = OpBitcast %int %1482
       %1484 = OpCompositeExtract %uint %269 0
       %1485 = OpCompositeExtract %uint %269 1
       %1486 = OpBitcast %int %1484
       %1487 = OpBitcast %int %1485
       %1488 = OpCompositeConstruct %v3int %1486 %1487 %1483
       %1489 = OpBitcast %v3uint %1488
       %1490 = OpLoad %type_2d_image_array %ShadowMaskRT
       %1491 = OpImageFetch %v4float %1490 %1489 Lod %uint_0
       %1492 = OpFSub %v4float %97 %1491
       %1493 = OpCompositeExtract %float %1492 0
               OpBranch %1478
       %1478 = OpLabel
       %1494 = OpPhi %float %float_1 %1474 %1493 %1479
       %1495 = OpFOrdGreaterThan %bool %1494 %float_0
               OpSelectionMerge %1496 DontFlatten
               OpBranchConditional %1495 %1497 %1496
       %1497 = OpLabel
       %1498 = OpVectorShuffle %v3float %793 %193 0 1 2
       %1499 = OpDot %float %1271 %1498
       %1500 = OpAccessChain %_ptr_Uniform_v4float %PER_BATCH %int_3
       %1501 = OpAccessChain %_ptr_Uniform_float %1500 %int_0
       %1502 = OpLoad %float %1501
       %1503 = OpFMul %float %1499 %1502
       %1504 = OpExtInst %float %1 FClamp %1503 %float_0 %float_1
       %1505 = OpFSub %float %float_1 %1504
       %1506 = OpFMul %float %1505 %1505
       %1507 = OpFMul %float %1270 %1494
       %1508 = OpFMul %float %1507 %1506
       %1509 = OpFMul %float %1470 %1508
       %1510 = OpIEqual %bool %1179 %int_8
               OpSelectionMerge %1511 None
               OpBranchConditional %1510 %1512 %1513
       %1513 = OpLabel
       %1514 = OpExtInst %v3float %1 Normalize %485
       %1515 = OpFNegate %v3float %1514
       %1516 = OpExtInst %float %1 NMin %432 %float_1
       %1517 = OpFSub %float %float_1 %1516
       %1518 = OpFSub %float %float_1 %1516
       %1519 = OpFMul %float %1517 %1518
       %1520 = OpFAdd %v3float %1515 %1271
       %1521 = OpExtInst %v3float %1 Normalize %1520
       %1522 = OpDot %float %1515 %1521
       %1523 = OpExtInst %float %1 FClamp %1522 %float_0 %float_1
       %1524 = OpDot %float %397 %1515
       %1525 = OpExtInst %float %1 FAbs %1524
       %1526 = OpFAdd %float %1525 %float_9_99999975en06
       %1527 = OpCompositeConstruct %v3float %1273 %1273 %1273
       %1528 = OpCompositeConstruct %v3float %1526 %1526 %1526
       %1529 = OpCompositeConstruct %v3float %1523 %1523 %1523
       %1530 = OpExtInst %v3float %1 NMax %1528 %116
       %1531 = OpFMul %float %float_0_5 %1519
       %1532 = OpExtInst %float %1 FMix %float_1 %float_0_662251651 %1519
       %1533 = OpCompositeConstruct %v3float %1531 %1531 %1531
       %1534 = OpVectorTimesScalar %v3float %1529 %float_2
       %1535 = OpFMul %v3float %1534 %1529
       %1536 = OpVectorTimesScalar %v3float %1535 %1519
       %1537 = OpFAdd %v3float %1533 %1536
       %1538 = OpCompositeExtract %float %1537 0
       %1539 = OpFSub %v3float %88 %1527
       %1540 = OpCompositeExtract %float %1539 0
       %1541 = OpFMul %float %1540 %1540
       %1542 = OpFMul %float %1541 %1540
       %1543 = OpFMul %float %1542 %1540
       %1544 = OpFMul %float %1543 %1540
       %1545 = OpExtInst %float %1 FMix %float_1 %1538 %1544
       %1546 = OpFSub %v3float %88 %1530
       %1547 = OpCompositeExtract %float %1546 0
       %1548 = OpFMul %float %1547 %1547
       %1549 = OpFMul %float %1548 %1547
       %1550 = OpFMul %float %1549 %1547
       %1551 = OpFMul %float %1550 %1547
       %1552 = OpExtInst %float %1 FMix %float_1 %1538 %1551
       %1553 = OpFMul %float %1545 %1552
       %1554 = OpFMul %float %1553 %1532
       %1555 = OpVectorTimesScalar %v3float %1527 %1554
       %1556 = OpCompositeExtract %float %1555 0
       %1557 = OpCompositeConstruct %v3float %1556 %1556 %1556
       %1558 = OpExtInst %v3float %1 Normalize %485
       %1559 = OpFNegate %v3float %1558
       %1560 = OpFSub %float %float_1 %432
       %1561 = OpFSub %float %float_1 %432
       %1562 = OpFMul %float %1560 %1561
       %1563 = OpExtInst %float %1 NMax %1562 %float_0_00100000005
       %1564 = OpFMul %float %1563 %1563
       %1565 = OpFAdd %v3float %1559 %1271
       %1566 = OpExtInst %v3float %1 Normalize %1565
       %1567 = OpDot %float %397 %1566
       %1568 = OpExtInst %float %1 FClamp %1567 %float_0 %float_1
       %1569 = OpFNegate %float %1568
       %1570 = OpExtInst %float %1 Fma %1568 %1564 %1569
       %1571 = OpExtInst %float %1 Fma %1570 %1568 %float_1
       %1572 = OpFMul %float %1571 %1571
       %1573 = OpFDiv %float %1564 %1572
       %1574 = OpDot %float %397 %1271
       %1575 = OpExtInst %float %1 FClamp %1574 %float_0 %float_1
       %1576 = OpDot %float %397 %1559
       %1577 = OpExtInst %float %1 FAbs %1576
       %1578 = OpFAdd %float %1577 %float_9_99999975en06
       %1579 = OpFSub %float %float_n9_99999975en06 %1577
       %1580 = OpExtInst %float %1 Fma %1579 %1564 %1578
       %1581 = OpExtInst %float %1 Fma %1580 %1578 %1564
       %1582 = OpExtInst %float %1 Sqrt %1581
       %1583 = OpFNegate %float %1575
       %1584 = OpExtInst %float %1 Fma %1583 %1564 %1575
       %1585 = OpExtInst %float %1 Fma %1584 %1575 %1564
       %1586 = OpExtInst %float %1 Sqrt %1585
       %1587 = OpFMul %float %1578 %1586
       %1588 = OpExtInst %float %1 Fma %1575 %1582 %1587
       %1589 = OpFDiv %float %float_0_5 %1588
       %1590 = OpFMul %float %1573 %1589
       %1591 = OpDot %float %430 %119
       %1592 = OpFMul %float %1591 %float_50
       %1593 = OpExtInst %float %1 FClamp %1592 %float_0 %float_1
       %1594 = OpCompositeConstruct %v3float %1593 %1593 %1593
       %1595 = OpDot %float %1271 %1566
       %1596 = OpExtInst %float %1 FClamp %1595 %float_0 %float_1
       %1597 = OpFSub %float %float_1 %1596
       %1598 = OpExtInst %float %1 Pow %1597 %float_5
       %1599 = OpCompositeConstruct %v3float %1598 %1598 %1598
       %1600 = OpExtInst %v3float %1 FMix %430 %1594 %1599
       %1601 = OpVectorTimesScalar %v3float %1600 %1590
       %1602 = OpDot %float %472 %124
       %1603 = OpExtInst %float %1 FMix %float_0 %float_0_5 %1602
       %1604 = OpFAdd %float %float_1 %1603
       %1605 = OpFAdd %float %float_1 %1603
       %1606 = OpFMul %float %1604 %1605
       %1607 = OpFDiv %float %float_1 %1606
       %1608 = OpDot %float %397 %1271
       %1609 = OpFNegate %float %1608
       %1610 = OpFAdd %float %1609 %1603
       %1611 = OpFMul %float %1610 %1607
       %1612 = OpExtInst %float %1 FClamp %1611 %float_0 %float_1
       %1613 = OpFAdd %float %1608 %1603
       %1614 = OpFMul %float %1613 %1607
       %1615 = OpExtInst %float %1 FClamp %1614 %float_0 %float_1
       %1616 = OpVectorTimesScalar %v3float %472 %1612
       %1617 = OpCompositeConstruct %v3float %1615 %1615 %1615
       %1618 = OpFAdd %v3float %1616 %1617
       %1619 = OpVectorShuffle %v3float %1477 %1477 0 1 2
       %1620 = OpVectorTimesScalar %v3float %1619 %1509
               OpSelectionMerge %1621 None
               OpBranchConditional %474 %1622 %1623
       %1623 = OpLabel
       %1624 = OpVectorShuffle %v3float %1557 %1557 0 0 0
               OpBranch %1621
       %1622 = OpLabel
               OpBranch %1621
       %1621 = OpLabel
       %1625 = OpPhi %v3float %1624 %1623 %1618 %1622
       %1626 = OpExtInst %v3float %1 Fma %1620 %1625 %1167
       %1627 = OpVectorShuffle %v3float %1477 %1477 0 1 2
       %1628 = OpVectorTimesScalar %v3float %1627 %1509
       %1629 = OpAccessChain %_ptr_Function_float %251 %int_3
       %1630 = OpLoad %float %1629
       %1631 = OpVectorTimesScalar %v3float %1628 %1630
       %1632 = OpFMul %v3float %1631 %1601
       %1633 = OpVectorTimesScalar %v3float %1632 %1273
       %1634 = OpFAdd %v3float %1165 %1633
               OpBranch %1511
       %1512 = OpLabel
       %1635 = OpBitcast %uint %1162
       %1636 = OpAccessChain %_ptr_Uniform_uint %TiledLightsShadeInfo %int_0 %1635 %int_1
       %1637 = OpLoad %uint %1636
       %1638 = OpBitwiseAnd %uint %1637 %uint_65535
       %1639 = OpShiftRightLogical %uint %1637 %uint_16
       %1640 = OpBitwiseAnd %uint %1639 %uint_255
       %1641 = OpShiftRightLogical %uint %1637 %uint_24
       %1642 = OpBitwiseAnd %uint %1641 %uint_255
       %1643 = OpCompositeConstruct %v4uint %1638 %1640 %1642 %uint_0
               OpStore %252 %1643
       %1644 = OpExtInst %v3float %1 Normalize %485
       %1645 = OpFNegate %v3float %1644
       %1646 = OpAccessChain %_ptr_Function_uint %252 %int_0
       %1647 = OpLoad %uint %1646
       %1648 = OpConvertUToF %float %1647
       %1649 = OpBitcast %uint %1162
       %1650 = OpAccessChain %_ptr_Uniform_mat4v4float %TiledLightsShadeInfo %int_0 %1649 %int_8
       %1651 = OpLoad %mat4v4float %1650
               OpStore %253 %1651
       %1652 = OpLoad %type_2d_image_array %SpotTexArray
               OpSelectionMerge %1653 None
               OpSwitch %uint_0 %1654
       %1654 = OpLabel
       %1655 = OpAccessChain %_ptr_Function_float %253 %uint_0 %uint_0
       %1656 = OpLoad %float %1655
       %1657 = OpAccessChain %_ptr_Function_float %253 %uint_0 %uint_1
       %1658 = OpLoad %float %1657
       %1659 = OpAccessChain %_ptr_Function_float %253 %uint_0 %uint_2
       %1660 = OpLoad %float %1659
       %1661 = OpCompositeConstruct %v3float %1656 %1658 %1660
               OpStore %203 %1661
       %1662 = OpAccessChain %_ptr_Function_float %253 %uint_1 %uint_0
       %1663 = OpLoad %float %1662
       %1664 = OpAccessChain %_ptr_Function_float %253 %uint_1 %uint_1
       %1665 = OpLoad %float %1664
       %1666 = OpAccessChain %_ptr_Function_float %253 %uint_1 %uint_2
       %1667 = OpLoad %float %1666
       %1668 = OpCompositeConstruct %v3float %1663 %1665 %1667
               OpStore %202 %1668
       %1669 = OpAccessChain %_ptr_Function_float %253 %uint_2 %uint_0
       %1670 = OpLoad %float %1669
       %1671 = OpAccessChain %_ptr_Function_float %253 %uint_2 %uint_1
       %1672 = OpLoad %float %1671
       %1673 = OpAccessChain %_ptr_Function_float %253 %uint_2 %uint_2
       %1674 = OpLoad %float %1673
       %1675 = OpCompositeConstruct %v3float %1670 %1672 %1674
               OpStore %201 %1675
       %1676 = OpAccessChain %_ptr_Function_float %253 %uint_3 %uint_0
       %1677 = OpLoad %float %1676
       %1678 = OpAccessChain %_ptr_Function_float %253 %uint_3 %uint_1
       %1679 = OpLoad %float %1678
       %1680 = OpAccessChain %_ptr_Function_float %253 %uint_3 %uint_2
       %1681 = OpLoad %float %1680
       %1682 = OpCompositeConstruct %v3float %1677 %1679 %1681
       %1683 = OpAccessChain %_ptr_Function_float %253 %uint_0 %uint_3
       %1684 = OpLoad %float %1683
       %1685 = OpConvertFToU %uint %1684
       %1686 = OpAccessChain %_ptr_Function_float %253 %uint_1 %uint_3
       %1687 = OpLoad %float %1686
       %1688 = OpFOrdNotEqual %bool %1687 %float_0
       %1689 = OpAccessChain %_ptr_Function_float %253 %uint_2 %uint_3
       %1690 = OpLoad %float %1689
       %1691 = OpFOrdNotEqual %bool %1690 %float_0
       %1692 = OpAccessChain %_ptr_Function_float %203 %int_0
       %1693 = OpLoad %float %1692
       %1694 = OpAccessChain %_ptr_Function_float %202 %int_0
       %1695 = OpLoad %float %1694
       %1696 = OpFAdd %float %1693 %1695
       %1697 = OpFMul %float %1696 %float_0_5
       %1698 = OpAccessChain %_ptr_Function_float %203 %int_1
       %1699 = OpLoad %float %1698
       %1700 = OpAccessChain %_ptr_Function_float %203 %int_2
       %1701 = OpLoad %float %1700
       %1702 = OpAccessChain %_ptr_Function_float %201 %int_2
       %1703 = OpLoad %float %1702
       %1704 = OpFAdd %float %1701 %1703
       %1705 = OpFMul %float %1704 %float_0_5
       %1706 = OpCompositeConstruct %v3float %1697 %1699 %1705
       %1707 = OpFSub %v3float %1706 %485
       %1708 = OpFSub %v3float %1668 %1661
       %1709 = OpFSub %v3float %1682 %1661
       %1710 = OpExtInst %v3float %1 Cross %1708 %1709
       %1711 = OpFSub %v3float %1661 %485
       %1712 = OpDot %float %1711 %1710
       %1713 = OpFOrdLessThan %bool %1712 %float_0
               OpSelectionMerge %1714 None
               OpBranchConditional %1713 %1715 %1714
       %1715 = OpLabel
       %1716 = OpLogicalNot %bool %1688
               OpBranch %1714
       %1714 = OpLabel
       %1717 = OpPhi %bool %false %1654 %1716 %1715
               OpSelectionMerge %1718 None
               OpBranchConditional %1717 %1719 %1718
       %1719 = OpLabel
               OpBranch %1653
       %1718 = OpLabel
       %1720 = OpFSub %float %float_1 %432
       %1721 = OpFSub %float %float_1 %432
       %1722 = OpFMul %float %1720 %1721
       %1723 = OpExtInst %float %1 NMax %1722 %float_0_0199999996
       %1724 = OpDot %float %397 %1645
       %1725 = OpExtInst %float %1 FClamp %1724 %float_0 %float_1
       %1726 = OpFSub %float %float_1 %1725
       %1727 = OpExtInst %float %1 Sqrt %1726
       %1728 = OpCompositeConstruct %v2float %1723 %1727
       %1729 = OpVectorTimesScalar %v2float %1728 %float_0_984375
       %1730 = OpFAdd %v2float %1729 %113
       %1731 = OpLoad %type_2d_image %LTCTex_1
       %1732 = OpLoad %type_sampler %SampStateTrilinearClamp
       %1733 = OpSampledImage %type_sampled_image_0 %1731 %1732
       %1734 = OpImageSampleExplicitLod %v4float %1733 %1730 Lod %float_0
               OpStore %224 %1734
       %1735 = OpLoad %type_2d_image %LTCTex_2
       %1736 = OpLoad %type_sampler %SampStateTrilinearClamp
       %1737 = OpSampledImage %type_sampled_image_0 %1735 %1736
       %1738 = OpImageSampleExplicitLod %v4float %1737 %1730 Lod %float_0
               OpStore %225 %1738
       %1739 = OpAccessChain %_ptr_Function_float %224 %int_0
       %1740 = OpLoad %float %1739
       %1741 = OpAccessChain %_ptr_Function_float %224 %int_2
       %1742 = OpLoad %float %1741
       %1743 = OpAccessChain %_ptr_Function_float %224 %int_1
       %1744 = OpLoad %float %1743
       %1745 = OpAccessChain %_ptr_Function_float %224 %int_3
       %1746 = OpLoad %float %1745
       %1747 = OpCompositeConstruct %v3float %1740 %float_0 %1742
       %1748 = OpCompositeConstruct %v3float %1744 %float_0 %1746
       %1749 = OpCompositeConstruct %mat3v3float %1747 %184 %1748
       %1750 = OpVectorTimesScalar %v3float %397 %1725
       %1751 = OpFSub %v3float %1645 %1750
       %1752 = OpExtInst %v3float %1 Normalize %1751
       %1753 = OpExtInst %v3float %1 Cross %397 %1752
       %1754 = OpAccessChain %_ptr_Function_float %225 %int_0
       %1755 = OpLoad %float %1754
       %1756 = OpAccessChain %_ptr_Function_float %225 %int_1
       %1757 = OpLoad %float %1756
       %1758 = OpCompositeConstruct %v2float %1755 %1757
               OpStore %226 %1758
       %1759 = OpIEqual %bool %1685 %uint_1
               OpSelectionMerge %1760 None
               OpBranchConditional %1759 %1761 %1762
       %1762 = OpLabel
       %1763 = OpIEqual %bool %1685 %uint_2
               OpSelectionMerge %1764 None
               OpBranchConditional %1763 %1765 %1764
       %1765 = OpLabel
               OpSelectionMerge %1766 None
               OpSwitch %uint_0 %1767
       %1767 = OpLabel
       %1768 = OpCompositeConstruct %mat3v3float %1752 %1753 %397
       %1769 = OpFSub %v3float %1661 %485
       %1770 = OpVectorTimesMatrix %v3float %1769 %1768
       %1771 = OpFSub %v3float %1668 %485
       %1772 = OpVectorTimesMatrix %v3float %1771 %1768
       %1773 = OpFSub %v3float %1675 %485
       %1774 = OpVectorTimesMatrix %v3float %1773 %1768
       %1775 = OpFAdd %v3float %1770 %1774
       %1776 = OpVectorTimesScalar %v3float %1775 %float_0_5
       %1777 = OpFSub %v3float %1772 %1774
       %1778 = OpVectorTimesScalar %v3float %1777 %float_0_5
       %1779 = OpFSub %v3float %1772 %1770
       %1780 = OpVectorTimesScalar %v3float %1779 %float_0_5
       %1781 = OpVectorTimesMatrix %v3float %1776 %187
       %1782 = OpVectorTimesMatrix %v3float %1778 %187
       %1783 = OpVectorTimesMatrix %v3float %1780 %187
       %1784 = OpExtInst %v3float %1 Cross %1782 %1783
       %1785 = OpDot %float %1784 %1781
       %1786 = OpLogicalNot %bool %1688
               OpSelectionMerge %1787 None
               OpBranchConditional %1786 %1788 %1787
       %1788 = OpLabel
       %1789 = OpFOrdLessThan %bool %1785 %float_9_99999997en07
               OpBranch %1787
       %1787 = OpLabel
       %1790 = OpPhi %bool %false %1767 %1789 %1788
               OpSelectionMerge %1791 None
               OpBranchConditional %1790 %1792 %1793
       %1793 = OpLabel
               OpSelectionMerge %1794 None
               OpBranchConditional %1688 %1795 %1794
       %1795 = OpLabel
       %1796 = OpFOrdLessThan %bool %1785 %float_9_99999997en07
               OpBranch %1794
       %1794 = OpLabel
       %1797 = OpPhi %bool %false %1793 %1796 %1795
               OpSelectionMerge %1798 None
               OpBranchConditional %1797 %1799 %1798
       %1799 = OpLabel
       %1800 = OpFOrdGreaterThan %bool %1785 %float_n9_99999997en07
               OpBranch %1798
       %1798 = OpLabel
       %1801 = OpPhi %bool %false %1794 %1800 %1799
               OpSelectionMerge %1802 None
               OpBranchConditional %1801 %1803 %1802
       %1803 = OpLabel
               OpBranch %1766
       %1802 = OpLabel
               OpBranch %1791
       %1792 = OpLabel
               OpBranch %1766
       %1791 = OpLabel
       %1804 = OpDot %float %1782 %1782
       %1805 = OpDot %float %1783 %1783
       %1806 = OpDot %float %1782 %1783
       %1807 = OpExtInst %float %1 FAbs %1806
       %1808 = OpFMul %float %1804 %1805
       %1809 = OpExtInst %float %1 Sqrt %1808
       %1810 = OpFDiv %float %1807 %1809
       %1811 = OpFOrdGreaterThan %bool %1810 %float_0_00100000005
               OpSelectionMerge %1812 None
               OpBranchConditional %1811 %1813 %1814
       %1814 = OpLabel
       %1815 = OpDot %float %1782 %1782
       %1816 = OpFDiv %float %float_1 %1815
       %1817 = OpDot %float %1783 %1783
       %1818 = OpFDiv %float %float_1 %1817
       %1819 = OpExtInst %float %1 Sqrt %1816
       %1820 = OpVectorTimesScalar %v3float %1782 %1819
       %1821 = OpExtInst %float %1 Sqrt %1818
       %1822 = OpVectorTimesScalar %v3float %1783 %1821
               OpBranch %1812
       %1813 = OpLabel
       %1823 = OpFAdd %float %1804 %1805
       %1824 = OpFNegate %float %1806
       %1825 = OpFMul %float %1804 %1805
       %1826 = OpExtInst %float %1 Fma %1824 %1806 %1825
       %1827 = OpExtInst %float %1 Sqrt %1826
       %1828 = OpExtInst %float %1 Fma %float_n2 %1827 %1823
       %1829 = OpExtInst %float %1 Sqrt %1828
       %1830 = OpExtInst %float %1 Fma %float_2 %1827 %1823
       %1831 = OpExtInst %float %1 Sqrt %1830
       %1832 = OpFMul %float %float_0_5 %1831
       %1833 = OpExtInst %float %1 Fma %float_0_5 %1829 %1832
       %1834 = OpFMul %float %1831 %float_n0_5
       %1835 = OpExtInst %float %1 Fma %float_0_5 %1829 %1834
       %1836 = OpFMul %float %1833 %1833
       %1837 = OpFMul %float %1835 %1835
       %1838 = OpFOrdGreaterThan %bool %1804 %1805
               OpSelectionMerge %1839 None
               OpBranchConditional %1838 %1840 %1841
       %1841 = OpLabel
       %1842 = OpVectorTimesScalar %v3float %1783 %1806
       %1843 = OpFNegate %float %1805
       %1844 = OpExtInst %float %1 Fma %1833 %1833 %1843
       %1845 = OpVectorTimesScalar %v3float %1782 %1844
       %1846 = OpFAdd %v3float %1842 %1845
       %1847 = OpVectorTimesScalar %v3float %1783 %1806
       %1848 = OpFNegate %float %1805
       %1849 = OpExtInst %float %1 Fma %1835 %1835 %1848
       %1850 = OpVectorTimesScalar %v3float %1782 %1849
       %1851 = OpFAdd %v3float %1847 %1850
               OpBranch %1839
       %1840 = OpLabel
       %1852 = OpVectorTimesScalar %v3float %1782 %1806
       %1853 = OpFNegate %float %1804
       %1854 = OpExtInst %float %1 Fma %1833 %1833 %1853
       %1855 = OpVectorTimesScalar %v3float %1783 %1854
       %1856 = OpFAdd %v3float %1852 %1855
       %1857 = OpVectorTimesScalar %v3float %1782 %1806
       %1858 = OpFNegate %float %1804
       %1859 = OpExtInst %float %1 Fma %1835 %1835 %1858
       %1860 = OpVectorTimesScalar %v3float %1783 %1859
       %1861 = OpFAdd %v3float %1857 %1860
               OpBranch %1839
       %1839 = OpLabel
       %1862 = OpPhi %v3float %1851 %1841 %1861 %1840
       %1863 = OpPhi %v3float %1846 %1841 %1856 %1840
       %1864 = OpFDiv %float %float_1 %1836
       %1865 = OpFDiv %float %float_1 %1837
       %1866 = OpExtInst %v3float %1 Normalize %1863
       %1867 = OpExtInst %v3float %1 Normalize %1862
               OpBranch %1812
       %1812 = OpLabel
       %1868 = OpPhi %float %1818 %1814 %1865 %1839
       %1869 = OpPhi %float %1816 %1814 %1864 %1839
       %1870 = OpPhi %v3float %1822 %1814 %1867 %1839
       %1871 = OpPhi %v3float %1820 %1814 %1866 %1839
       %1872 = OpExtInst %v3float %1 Cross %1871 %1870
       %1873 = OpDot %float %1781 %1872
       %1874 = OpFOrdLessThan %bool %1873 %float_0
               OpSelectionMerge %1875 None
               OpBranchConditional %1874 %1876 %1875
       %1876 = OpLabel
       %1877 = OpVectorTimesScalar %v3float %1872 %float_n1
               OpBranch %1875
       %1875 = OpLabel
       %1878 = OpPhi %v3float %1872 %1812 %1877 %1876
       %1879 = OpDot %float %1878 %1781
       %1880 = OpDot %float %1871 %1781
       %1881 = OpFDiv %float %1880 %1879
       %1882 = OpDot %float %1870 %1781
       %1883 = OpFDiv %float %1882 %1879
       %1884 = OpFMul %float %1879 %1879
       %1885 = OpFMul %float %1869 %1884
       %1886 = OpFMul %float %1879 %1879
       %1887 = OpFMul %float %1868 %1886
       %1888 = OpFMul %float %1885 %1887
       %1889 = OpFMul %float %1885 %1887
       %1890 = OpExtInst %float %1 Fma %1881 %1881 %float_1
       %1891 = OpExtInst %float %1 Fma %1883 %1883 %1890
       %1892 = OpFNegate %float %1885
       %1893 = OpExtInst %float %1 Fma %1889 %1891 %1892
       %1894 = OpFNegate %float %1868
       %1895 = OpExtInst %float %1 Fma %1894 %1886 %1893
       %1896 = OpExtInst %float %1 Fma %1881 %1881 %float_1
       %1897 = OpFNegate %float %1885
       %1898 = OpExtInst %float %1 Fma %1897 %1896 %float_1
       %1899 = OpExtInst %float %1 Fma %1883 %1883 %float_1
       %1900 = OpFNegate %float %1887
       %1901 = OpExtInst %float %1 Fma %1900 %1899 %1898
       %1902 = OpCompositeConstruct %v4float %1888 %1895 %1901 %float_1
               OpStore %222 %1902
       %1903 = OpAccessChain %_ptr_Function_float %222 %int_3
       %1904 = OpLoad %float %1903
       %1905 = OpCompositeConstruct %v3float %1904 %1904 %1904
       %1906 = OpVectorShuffle %v3float %1902 %1902 0 1 2
       %1907 = OpFDiv %v3float %1906 %1905
       %1908 = OpVectorShuffle %v4float %1902 %1907 4 5 6 3
       %1909 = OpVectorShuffle %v2float %1907 %193 1 2
       %1910 = OpFMul %v2float %1909 %197
       %1911 = OpVectorShuffle %v4float %1908 %1910 0 4 5 3
               OpStore %222 %1911
       %1912 = OpAccessChain %_ptr_Function_float %222 %int_3
       %1913 = OpLoad %float %1912
       %1914 = OpAccessChain %_ptr_Function_float %222 %int_2
       %1915 = OpLoad %float %1914
       %1916 = OpAccessChain %_ptr_Function_float %222 %int_1
       %1917 = OpLoad %float %1916
       %1918 = OpAccessChain %_ptr_Function_float %222 %int_0
       %1919 = OpLoad %float %1918
       %1920 = OpAccessChain %_ptr_Function_float %222 %int_2
       %1921 = OpLoad %float %1920
       %1922 = OpFNegate %float %1921
       %1923 = OpAccessChain %_ptr_Function_float %222 %int_2
       %1924 = OpLoad %float %1923
       %1925 = OpAccessChain %_ptr_Function_float %222 %int_1
       %1926 = OpLoad %float %1925
       %1927 = OpExtInst %float %1 Fma %1922 %1924 %1926
       %1928 = OpAccessChain %_ptr_Function_float %222 %int_1
       %1929 = OpLoad %float %1928
       %1930 = OpFNegate %float %1929
       %1931 = OpAccessChain %_ptr_Function_float %222 %int_2
       %1932 = OpLoad %float %1931
       %1933 = OpAccessChain %_ptr_Function_float %222 %int_0
       %1934 = OpLoad %float %1933
       %1935 = OpExtInst %float %1 Fma %1930 %1932 %1934
       %1936 = OpAccessChain %_ptr_Function_float %222 %int_2
       %1937 = OpLoad %float %1936
       %1938 = OpAccessChain %_ptr_Function_float %222 %int_1
       %1939 = OpLoad %float %1938
       %1940 = OpFNegate %float %1939
       %1941 = OpCompositeConstruct %v2float %1937 %1940
       %1942 = OpVectorShuffle %v2float %1911 %1911 0 1
       %1943 = OpDot %float %1941 %1942
       %1944 = OpCompositeConstruct %v3float %1927 %1935 %1943
               OpStore %216 %1944
       %1945 = OpAccessChain %_ptr_Function_float %216 %int_0
       %1946 = OpLoad %float %1945
       %1947 = OpFMul %float %float_4 %1946
       %1948 = OpAccessChain %_ptr_Function_float %216 %int_1
       %1949 = OpLoad %float %1948
       %1950 = OpFNegate %float %1949
       %1951 = OpCompositeConstruct %v2float %1947 %1950
       %1952 = OpVectorShuffle %v2float %1944 %1944 2 1
       %1953 = OpDot %float %1951 %1952
       %1954 = OpAccessChain %_ptr_Function_float %216 %int_0
       %1955 = OpLoad %float %1954
       %1956 = OpFMul %float %float_n2 %1915
       %1957 = OpAccessChain %_ptr_Function_float %216 %int_0
       %1958 = OpLoad %float %1957
       %1959 = OpAccessChain %_ptr_Function_float %216 %int_1
       %1960 = OpLoad %float %1959
       %1961 = OpExtInst %float %1 Fma %1956 %1958 %1960
       %1962 = OpExtInst %float %1 Sqrt %1953
       %1963 = OpFNegate %float %1961
       %1964 = OpExtInst %float %1 Atan2 %1962 %1963
       %1965 = OpFMul %float %1964 %float_0_333333343
       %1966 = OpFNegate %float %1955
       %1967 = OpExtInst %float %1 Sqrt %1966
       %1968 = OpFMul %float %float_2 %1967
       %1969 = OpExtInst %float %1 Cos %1965
       %1970 = OpFMul %float %1968 %1969
       %1971 = OpFNegate %float %1955
       %1972 = OpExtInst %float %1 Sqrt %1971
       %1973 = OpFMul %float %float_2 %1972
       %1974 = OpExtInst %float %1 Fma %1964 %float_0_333333343 %float_2_09433341
       %1975 = OpExtInst %float %1 Cos %1974
       %1976 = OpFMul %float %1973 %1975
       %1977 = OpExtInst %float %1 Fma %1968 %1969 %1976
       %1978 = OpFMul %float %float_2 %1915
       %1979 = OpFOrdGreaterThan %bool %1977 %1978
               OpSelectionMerge %1980 None
               OpBranchConditional %1979 %1981 %1982
       %1982 = OpLabel
               OpBranch %1980
       %1981 = OpLabel
               OpBranch %1980
       %1980 = OpLabel
       %1983 = OpPhi %float %1976 %1982 %1970 %1981
       %1984 = OpFSub %float %1983 %1915
       %1985 = OpCompositeConstruct %v2float %1984 %1913
               OpStore %217 %1985
       %1986 = OpAccessChain %_ptr_Function_float %216 %int_2
       %1987 = OpLoad %float %1986
       %1988 = OpFNegate %float %1919
       %1989 = OpAccessChain %_ptr_Function_float %216 %int_1
       %1990 = OpLoad %float %1989
       %1991 = OpFMul %float %float_2 %1917
       %1992 = OpAccessChain %_ptr_Function_float %216 %int_2
       %1993 = OpLoad %float %1992
       %1994 = OpFMul %float %1991 %1993
       %1995 = OpExtInst %float %1 Fma %1988 %1990 %1994
       %1996 = OpExtInst %float %1 Sqrt %1953
       %1997 = OpFMul %float %1919 %1996
       %1998 = OpFNegate %float %1995
       %1999 = OpExtInst %float %1 Atan2 %1997 %1998
       %2000 = OpFMul %float %1999 %float_0_333333343
       %2001 = OpFNegate %float %1987
       %2002 = OpExtInst %float %1 Sqrt %2001
       %2003 = OpFMul %float %float_2 %2002
       %2004 = OpExtInst %float %1 Cos %2000
       %2005 = OpFMul %float %2003 %2004
       %2006 = OpFNegate %float %1987
       %2007 = OpExtInst %float %1 Sqrt %2006
       %2008 = OpFMul %float %float_2 %2007
       %2009 = OpExtInst %float %1 Fma %1999 %float_0_333333343 %float_2_09433341
       %2010 = OpExtInst %float %1 Cos %2009
       %2011 = OpFMul %float %2008 %2010
       %2012 = OpExtInst %float %1 Fma %2003 %2004 %2011
       %2013 = OpFMul %float %float_2 %1917
       %2014 = OpFOrdLessThan %bool %2012 %2013
               OpSelectionMerge %2015 None
               OpBranchConditional %2014 %2016 %2017
       %2017 = OpLabel
               OpBranch %2015
       %2016 = OpLabel
               OpBranch %2015
       %2015 = OpLabel
       %2018 = OpPhi %float %2011 %2017 %2005 %2016
       %2019 = OpFNegate %float %1919
       %2020 = OpFAdd %float %2018 %1917
       %2021 = OpCompositeConstruct %v2float %2019 %2020
               OpStore %218 %2021
       %2022 = OpAccessChain %_ptr_Function_float %217 %int_1
       %2023 = OpLoad %float %2022
       %2024 = OpAccessChain %_ptr_Function_float %218 %int_1
       %2025 = OpLoad %float %2024
       %2026 = OpFMul %float %2023 %2025
       %2027 = OpAccessChain %_ptr_Function_float %217 %int_0
       %2028 = OpLoad %float %2027
       %2029 = OpFNegate %float %2028
       %2030 = OpAccessChain %_ptr_Function_float %218 %int_1
       %2031 = OpLoad %float %2030
       %2032 = OpAccessChain %_ptr_Function_float %217 %int_1
       %2033 = OpLoad %float %2032
       %2034 = OpAccessChain %_ptr_Function_float %218 %int_0
       %2035 = OpLoad %float %2034
       %2036 = OpFMul %float %2033 %2035
       %2037 = OpFNegate %float %2036
       %2038 = OpExtInst %float %1 Fma %2029 %2031 %2037
       %2039 = OpAccessChain %_ptr_Function_float %217 %int_0
       %2040 = OpLoad %float %2039
       %2041 = OpAccessChain %_ptr_Function_float %218 %int_0
       %2042 = OpLoad %float %2041
       %2043 = OpFMul %float %2040 %2042
       %2044 = OpFMul %float %1915 %2043
       %2045 = OpFNegate %float %2044
       %2046 = OpExtInst %float %1 Fma %1917 %2038 %2045
       %2047 = OpFNegate %float %1915
       %2048 = OpFMul %float %1917 %2026
       %2049 = OpExtInst %float %1 Fma %2047 %2038 %2048
       %2050 = OpCompositeConstruct %v2float %2046 %2049
               OpStore %219 %2050
       %2051 = OpAccessChain %_ptr_Function_float %218 %int_0
       %2052 = OpLoad %float %2051
       %2053 = OpAccessChain %_ptr_Function_float %218 %int_1
       %2054 = OpLoad %float %2053
       %2055 = OpFDiv %float %2052 %2054
       %2056 = OpAccessChain %_ptr_Function_float %219 %int_0
       %2057 = OpLoad %float %2056
       %2058 = OpAccessChain %_ptr_Function_float %219 %int_1
       %2059 = OpLoad %float %2058
       %2060 = OpFDiv %float %2057 %2059
       %2061 = OpAccessChain %_ptr_Function_float %217 %int_0
       %2062 = OpLoad %float %2061
       %2063 = OpAccessChain %_ptr_Function_float %217 %int_1
       %2064 = OpLoad %float %2063
       %2065 = OpFDiv %float %2062 %2064
       %2066 = OpCompositeConstruct %v3float %2055 %2060 %2065
               OpStore %220 %2066
       %2067 = OpAccessChain %_ptr_Function_float %220 %int_0
       %2068 = OpLoad %float %2067
       %2069 = OpAccessChain %_ptr_Function_float %220 %int_1
       %2070 = OpLoad %float %2069
       %2071 = OpFOrdLessThan %bool %2068 %2070
               OpSelectionMerge %2072 None
               OpBranchConditional %2071 %2073 %2072
       %2073 = OpLabel
       %2074 = OpAccessChain %_ptr_Function_float %220 %int_0
       %2075 = OpLoad %float %2074
       %2076 = OpAccessChain %_ptr_Function_float %220 %int_2
       %2077 = OpLoad %float %2076
       %2078 = OpFOrdLessThan %bool %2075 %2077
               OpBranch %2072
       %2072 = OpLabel
       %2079 = OpPhi %bool %false %2015 %2078 %2073
               OpSelectionMerge %2080 None
               OpBranchConditional %2079 %2081 %2082
       %2082 = OpLabel
       %2083 = OpAccessChain %_ptr_Function_float %220 %int_2
       %2084 = OpLoad %float %2083
       %2085 = OpAccessChain %_ptr_Function_float %220 %int_0
       %2086 = OpLoad %float %2085
       %2087 = OpFOrdLessThan %bool %2084 %2086
               OpSelectionMerge %2088 None
               OpBranchConditional %2087 %2089 %2088
       %2089 = OpLabel
       %2090 = OpAccessChain %_ptr_Function_float %220 %int_2
       %2091 = OpLoad %float %2090
       %2092 = OpAccessChain %_ptr_Function_float %220 %int_1
       %2093 = OpLoad %float %2092
       %2094 = OpFOrdLessThan %bool %2091 %2093
               OpBranch %2088
       %2088 = OpLabel
       %2095 = OpPhi %bool %false %2082 %2094 %2089
               OpSelectionMerge %2096 None
               OpBranchConditional %2095 %2097 %2096
       %2097 = OpLabel
       %2098 = OpLoad %v3float %220
       %2099 = OpVectorShuffle %v3float %2098 %2098 0 2 1
               OpStore %220 %2099
               OpBranch %2096
       %2096 = OpLabel
               OpBranch %2080
       %2081 = OpLabel
       %2100 = OpLoad %v3float %220
       %2101 = OpVectorShuffle %v3float %2100 %2100 1 0 2
               OpStore %220 %2101
               OpBranch %2080
       %2080 = OpLabel
       %2102 = OpLoad %v3float %220
               OpStore %221 %2102
       %2103 = OpAccessChain %_ptr_Function_float %221 %int_0
       %2104 = OpLoad %float %2103
       %2105 = OpAccessChain %_ptr_Function_float %221 %int_1
       %2106 = OpLoad %float %2105
       %2107 = OpAccessChain %_ptr_Function_float %221 %int_2
       %2108 = OpLoad %float %2107
       %2109 = OpFMul %float %1885 %1881
       %2110 = OpFNegate %float %2106
       %2111 = OpExtInst %float %1 Fma %1869 %1884 %2110
       %2112 = OpFDiv %float %2109 %2111
       %2113 = OpFMul %float %1887 %1883
       %2114 = OpFNegate %float %2106
       %2115 = OpExtInst %float %1 Fma %1868 %1886 %2114
       %2116 = OpFDiv %float %2113 %2115
       %2117 = OpCompositeConstruct %v3float %2112 %2116 %float_1
       %2118 = OpCompositeConstruct %mat3v3float %1871 %1870 %1878
       %2119 = OpTranspose %mat3v3float %2118
       %2120 = OpVectorTimesMatrix %v3float %2117 %2119
       %2121 = OpExtInst %v3float %1 Normalize %2120
               OpStore %223 %2121
       %2122 = OpFNegate %float %2106
       %2123 = OpFDiv %float %2122 %2108
       %2124 = OpExtInst %float %1 Sqrt %2123
       %2125 = OpFNegate %float %2106
       %2126 = OpFDiv %float %2125 %2104
       %2127 = OpExtInst %float %1 Sqrt %2126
       %2128 = OpFMul %float %2124 %2127
       %2129 = OpExtInst %float %1 Fma %2124 %2124 %float_1
       %2130 = OpExtInst %float %1 Fma %2127 %2127 %float_1
       %2131 = OpFMul %float %2129 %2130
       %2132 = OpExtInst %float %1 InverseSqrt %2131
       %2133 = OpFMul %float %2128 %2132
       %2134 = OpAccessChain %_ptr_Function_float %223 %int_2
       %2135 = OpLoad %float %2134
       %2136 = OpExtInst %float %1 Fma %2135 %float_0_5 %float_0_5
       %2137 = OpCompositeConstruct %v2float %2136 %2133
       %2138 = OpVectorTimesScalar %v2float %2137 %float_0_984375
       %2139 = OpFAdd %v2float %2138 %113
       %2140 = OpLoad %type_2d_image %LTCTex_2
       %2141 = OpLoad %type_sampler %SampStateTrilinearClamp
       %2142 = OpSampledImage %type_sampled_image_0 %2140 %2141
       %2143 = OpImageSampleExplicitLod %v4float %2142 %2139 Lod %float_0
       %2144 = OpCompositeExtract %float %2143 3
       %2145 = OpFMul %float %2133 %2144
       %2146 = OpCompositeConstruct %v3float %2145 %2145 %2145
               OpBranch %1766
       %1766 = OpLabel
       %2147 = OpPhi %v3float %78 %1803 %78 %1792 %2146 %2080
               OpSelectionMerge %2148 None
               OpSwitch %uint_0 %2149
       %2149 = OpLabel
       %2150 = OpCompositeConstruct %mat3v3float %1752 %1753 %397
       %2151 = OpFSub %v3float %1661 %485
       %2152 = OpVectorTimesMatrix %v3float %2151 %2150
       %2153 = OpFSub %v3float %1668 %485
       %2154 = OpVectorTimesMatrix %v3float %2153 %2150
       %2155 = OpFSub %v3float %1675 %485
       %2156 = OpVectorTimesMatrix %v3float %2155 %2150
       %2157 = OpFAdd %v3float %2152 %2156
       %2158 = OpVectorTimesScalar %v3float %2157 %float_0_5
       %2159 = OpFSub %v3float %2154 %2156
       %2160 = OpVectorTimesScalar %v3float %2159 %float_0_5
       %2161 = OpFSub %v3float %2154 %2152
       %2162 = OpVectorTimesScalar %v3float %2161 %float_0_5
       %2163 = OpVectorTimesMatrix %v3float %2158 %1749
       %2164 = OpVectorTimesMatrix %v3float %2160 %1749
       %2165 = OpVectorTimesMatrix %v3float %2162 %1749
       %2166 = OpExtInst %v3float %1 Cross %2164 %2165
       %2167 = OpDot %float %2166 %2163
       %2168 = OpLogicalNot %bool %1688
               OpSelectionMerge %2169 None
               OpBranchConditional %2168 %2170 %2169
       %2170 = OpLabel
       %2171 = OpFOrdLessThan %bool %2167 %float_9_99999997en07
               OpBranch %2169
       %2169 = OpLabel
       %2172 = OpPhi %bool %false %2149 %2171 %2170
               OpSelectionMerge %2173 None
               OpBranchConditional %2172 %2174 %2175
       %2175 = OpLabel
               OpSelectionMerge %2176 None
               OpBranchConditional %1688 %2177 %2176
       %2177 = OpLabel
       %2178 = OpFOrdLessThan %bool %2167 %float_9_99999997en07
               OpBranch %2176
       %2176 = OpLabel
       %2179 = OpPhi %bool %false %2175 %2178 %2177
               OpSelectionMerge %2180 None
               OpBranchConditional %2179 %2181 %2180
       %2181 = OpLabel
       %2182 = OpFOrdGreaterThan %bool %2167 %float_n9_99999997en07
               OpBranch %2180
       %2180 = OpLabel
       %2183 = OpPhi %bool %false %2176 %2182 %2181
               OpSelectionMerge %2184 None
               OpBranchConditional %2183 %2185 %2184
       %2185 = OpLabel
               OpBranch %2148
       %2184 = OpLabel
               OpBranch %2173
       %2174 = OpLabel
               OpBranch %2148
       %2173 = OpLabel
       %2186 = OpDot %float %2164 %2164
       %2187 = OpDot %float %2165 %2165
       %2188 = OpDot %float %2164 %2165
       %2189 = OpExtInst %float %1 FAbs %2188
       %2190 = OpFMul %float %2186 %2187
       %2191 = OpExtInst %float %1 Sqrt %2190
       %2192 = OpFDiv %float %2189 %2191
       %2193 = OpFOrdGreaterThan %bool %2192 %float_0_00100000005
               OpSelectionMerge %2194 None
               OpBranchConditional %2193 %2195 %2196
       %2196 = OpLabel
       %2197 = OpDot %float %2164 %2164
       %2198 = OpFDiv %float %float_1 %2197
       %2199 = OpDot %float %2165 %2165
       %2200 = OpFDiv %float %float_1 %2199
       %2201 = OpExtInst %float %1 Sqrt %2198
       %2202 = OpVectorTimesScalar %v3float %2164 %2201
       %2203 = OpExtInst %float %1 Sqrt %2200
       %2204 = OpVectorTimesScalar %v3float %2165 %2203
               OpBranch %2194
       %2195 = OpLabel
       %2205 = OpFAdd %float %2186 %2187
       %2206 = OpFNegate %float %2188
       %2207 = OpFMul %float %2186 %2187
       %2208 = OpExtInst %float %1 Fma %2206 %2188 %2207
       %2209 = OpExtInst %float %1 Sqrt %2208
       %2210 = OpExtInst %float %1 Fma %float_n2 %2209 %2205
       %2211 = OpExtInst %float %1 Sqrt %2210
       %2212 = OpExtInst %float %1 Fma %float_2 %2209 %2205
       %2213 = OpExtInst %float %1 Sqrt %2212
       %2214 = OpFMul %float %float_0_5 %2213
       %2215 = OpExtInst %float %1 Fma %float_0_5 %2211 %2214
       %2216 = OpFMul %float %2213 %float_n0_5
       %2217 = OpExtInst %float %1 Fma %float_0_5 %2211 %2216
       %2218 = OpFMul %float %2215 %2215
       %2219 = OpFMul %float %2217 %2217
       %2220 = OpFOrdGreaterThan %bool %2186 %2187
               OpSelectionMerge %2221 None
               OpBranchConditional %2220 %2222 %2223
       %2223 = OpLabel
       %2224 = OpVectorTimesScalar %v3float %2165 %2188
       %2225 = OpFNegate %float %2187
       %2226 = OpExtInst %float %1 Fma %2215 %2215 %2225
       %2227 = OpVectorTimesScalar %v3float %2164 %2226
       %2228 = OpFAdd %v3float %2224 %2227
       %2229 = OpVectorTimesScalar %v3float %2165 %2188
       %2230 = OpFNegate %float %2187
       %2231 = OpExtInst %float %1 Fma %2217 %2217 %2230
       %2232 = OpVectorTimesScalar %v3float %2164 %2231
       %2233 = OpFAdd %v3float %2229 %2232
               OpBranch %2221
       %2222 = OpLabel
       %2234 = OpVectorTimesScalar %v3float %2164 %2188
       %2235 = OpFNegate %float %2186
       %2236 = OpExtInst %float %1 Fma %2215 %2215 %2235
       %2237 = OpVectorTimesScalar %v3float %2165 %2236
       %2238 = OpFAdd %v3float %2234 %2237
       %2239 = OpVectorTimesScalar %v3float %2164 %2188
       %2240 = OpFNegate %float %2186
       %2241 = OpExtInst %float %1 Fma %2217 %2217 %2240
       %2242 = OpVectorTimesScalar %v3float %2165 %2241
       %2243 = OpFAdd %v3float %2239 %2242
               OpBranch %2221
       %2221 = OpLabel
       %2244 = OpPhi %v3float %2233 %2223 %2243 %2222
       %2245 = OpPhi %v3float %2228 %2223 %2238 %2222
       %2246 = OpFDiv %float %float_1 %2218
       %2247 = OpFDiv %float %float_1 %2219
       %2248 = OpExtInst %v3float %1 Normalize %2245
       %2249 = OpExtInst %v3float %1 Normalize %2244
               OpBranch %2194
       %2194 = OpLabel
       %2250 = OpPhi %float %2200 %2196 %2247 %2221
       %2251 = OpPhi %float %2198 %2196 %2246 %2221
       %2252 = OpPhi %v3float %2204 %2196 %2249 %2221
       %2253 = OpPhi %v3float %2202 %2196 %2248 %2221
       %2254 = OpExtInst %v3float %1 Cross %2253 %2252
       %2255 = OpDot %float %2163 %2254
       %2256 = OpFOrdLessThan %bool %2255 %float_0
               OpSelectionMerge %2257 None
               OpBranchConditional %2256 %2258 %2257
       %2258 = OpLabel
       %2259 = OpVectorTimesScalar %v3float %2254 %float_n1
               OpBranch %2257
       %2257 = OpLabel
       %2260 = OpPhi %v3float %2254 %2194 %2259 %2258
       %2261 = OpDot %float %2260 %2163
       %2262 = OpDot %float %2253 %2163
       %2263 = OpFDiv %float %2262 %2261
       %2264 = OpDot %float %2252 %2163
       %2265 = OpFDiv %float %2264 %2261
       %2266 = OpFMul %float %2261 %2261
       %2267 = OpFMul %float %2251 %2266
       %2268 = OpFMul %float %2261 %2261
       %2269 = OpFMul %float %2250 %2268
       %2270 = OpFMul %float %2267 %2269
       %2271 = OpFMul %float %2267 %2269
       %2272 = OpExtInst %float %1 Fma %2263 %2263 %float_1
       %2273 = OpExtInst %float %1 Fma %2265 %2265 %2272
       %2274 = OpFNegate %float %2267
       %2275 = OpExtInst %float %1 Fma %2271 %2273 %2274
       %2276 = OpFNegate %float %2250
       %2277 = OpExtInst %float %1 Fma %2276 %2268 %2275
       %2278 = OpExtInst %float %1 Fma %2263 %2263 %float_1
       %2279 = OpFNegate %float %2267
       %2280 = OpExtInst %float %1 Fma %2279 %2278 %float_1
       %2281 = OpExtInst %float %1 Fma %2265 %2265 %float_1
       %2282 = OpFNegate %float %2269
       %2283 = OpExtInst %float %1 Fma %2282 %2281 %2280
       %2284 = OpCompositeConstruct %v4float %2270 %2277 %2283 %float_1
               OpStore %214 %2284
       %2285 = OpAccessChain %_ptr_Function_float %214 %int_3
       %2286 = OpLoad %float %2285
       %2287 = OpCompositeConstruct %v3float %2286 %2286 %2286
       %2288 = OpVectorShuffle %v3float %2284 %2284 0 1 2
       %2289 = OpFDiv %v3float %2288 %2287
       %2290 = OpVectorShuffle %v4float %2284 %2289 4 5 6 3
       %2291 = OpVectorShuffle %v2float %2289 %193 1 2
       %2292 = OpFMul %v2float %2291 %197
       %2293 = OpVectorShuffle %v4float %2290 %2292 0 4 5 3
               OpStore %214 %2293
       %2294 = OpAccessChain %_ptr_Function_float %214 %int_3
       %2295 = OpLoad %float %2294
       %2296 = OpAccessChain %_ptr_Function_float %214 %int_2
       %2297 = OpLoad %float %2296
       %2298 = OpAccessChain %_ptr_Function_float %214 %int_1
       %2299 = OpLoad %float %2298
       %2300 = OpAccessChain %_ptr_Function_float %214 %int_0
       %2301 = OpLoad %float %2300
       %2302 = OpAccessChain %_ptr_Function_float %214 %int_2
       %2303 = OpLoad %float %2302
       %2304 = OpFNegate %float %2303
       %2305 = OpAccessChain %_ptr_Function_float %214 %int_2
       %2306 = OpLoad %float %2305
       %2307 = OpAccessChain %_ptr_Function_float %214 %int_1
       %2308 = OpLoad %float %2307
       %2309 = OpExtInst %float %1 Fma %2304 %2306 %2308
       %2310 = OpAccessChain %_ptr_Function_float %214 %int_1
       %2311 = OpLoad %float %2310
       %2312 = OpFNegate %float %2311
       %2313 = OpAccessChain %_ptr_Function_float %214 %int_2
       %2314 = OpLoad %float %2313
       %2315 = OpAccessChain %_ptr_Function_float %214 %int_0
       %2316 = OpLoad %float %2315
       %2317 = OpExtInst %float %1 Fma %2312 %2314 %2316
       %2318 = OpAccessChain %_ptr_Function_float %214 %int_2
       %2319 = OpLoad %float %2318
       %2320 = OpAccessChain %_ptr_Function_float %214 %int_1
       %2321 = OpLoad %float %2320
       %2322 = OpFNegate %float %2321
       %2323 = OpCompositeConstruct %v2float %2319 %2322
       %2324 = OpVectorShuffle %v2float %2293 %2293 0 1
       %2325 = OpDot %float %2323 %2324
       %2326 = OpCompositeConstruct %v3float %2309 %2317 %2325
               OpStore %208 %2326
       %2327 = OpAccessChain %_ptr_Function_float %208 %int_0
       %2328 = OpLoad %float %2327
       %2329 = OpFMul %float %float_4 %2328
       %2330 = OpAccessChain %_ptr_Function_float %208 %int_1
       %2331 = OpLoad %float %2330
       %2332 = OpFNegate %float %2331
       %2333 = OpCompositeConstruct %v2float %2329 %2332
       %2334 = OpVectorShuffle %v2float %2326 %2326 2 1
       %2335 = OpDot %float %2333 %2334
       %2336 = OpAccessChain %_ptr_Function_float %208 %int_0
       %2337 = OpLoad %float %2336
       %2338 = OpFMul %float %float_n2 %2297
       %2339 = OpAccessChain %_ptr_Function_float %208 %int_0
       %2340 = OpLoad %float %2339
       %2341 = OpAccessChain %_ptr_Function_float %208 %int_1
       %2342 = OpLoad %float %2341
       %2343 = OpExtInst %float %1 Fma %2338 %2340 %2342
       %2344 = OpExtInst %float %1 Sqrt %2335
       %2345 = OpFNegate %float %2343
       %2346 = OpExtInst %float %1 Atan2 %2344 %2345
       %2347 = OpFMul %float %2346 %float_0_333333343
       %2348 = OpFNegate %float %2337
       %2349 = OpExtInst %float %1 Sqrt %2348
       %2350 = OpFMul %float %float_2 %2349
       %2351 = OpExtInst %float %1 Cos %2347
       %2352 = OpFMul %float %2350 %2351
       %2353 = OpFNegate %float %2337
       %2354 = OpExtInst %float %1 Sqrt %2353
       %2355 = OpFMul %float %float_2 %2354
       %2356 = OpExtInst %float %1 Fma %2346 %float_0_333333343 %float_2_09433341
       %2357 = OpExtInst %float %1 Cos %2356
       %2358 = OpFMul %float %2355 %2357
       %2359 = OpExtInst %float %1 Fma %2350 %2351 %2358
       %2360 = OpFMul %float %float_2 %2297
       %2361 = OpFOrdGreaterThan %bool %2359 %2360
               OpSelectionMerge %2362 None
               OpBranchConditional %2361 %2363 %2364
       %2364 = OpLabel
               OpBranch %2362
       %2363 = OpLabel
               OpBranch %2362
       %2362 = OpLabel
       %2365 = OpPhi %float %2358 %2364 %2352 %2363
       %2366 = OpFSub %float %2365 %2297
       %2367 = OpCompositeConstruct %v2float %2366 %2295
               OpStore %209 %2367
       %2368 = OpAccessChain %_ptr_Function_float %208 %int_2
       %2369 = OpLoad %float %2368
       %2370 = OpFNegate %float %2301
       %2371 = OpAccessChain %_ptr_Function_float %208 %int_1
       %2372 = OpLoad %float %2371
       %2373 = OpFMul %float %float_2 %2299
       %2374 = OpAccessChain %_ptr_Function_float %208 %int_2
       %2375 = OpLoad %float %2374
       %2376 = OpFMul %float %2373 %2375
       %2377 = OpExtInst %float %1 Fma %2370 %2372 %2376
       %2378 = OpExtInst %float %1 Sqrt %2335
       %2379 = OpFMul %float %2301 %2378
       %2380 = OpFNegate %float %2377
       %2381 = OpExtInst %float %1 Atan2 %2379 %2380
       %2382 = OpFMul %float %2381 %float_0_333333343
       %2383 = OpFNegate %float %2369
       %2384 = OpExtInst %float %1 Sqrt %2383
       %2385 = OpFMul %float %float_2 %2384
       %2386 = OpExtInst %float %1 Cos %2382
       %2387 = OpFMul %float %2385 %2386
       %2388 = OpFNegate %float %2369
       %2389 = OpExtInst %float %1 Sqrt %2388
       %2390 = OpFMul %float %float_2 %2389
       %2391 = OpExtInst %float %1 Fma %2381 %float_0_333333343 %float_2_09433341
       %2392 = OpExtInst %float %1 Cos %2391
       %2393 = OpFMul %float %2390 %2392
       %2394 = OpExtInst %float %1 Fma %2385 %2386 %2393
       %2395 = OpFMul %float %float_2 %2299
       %2396 = OpFOrdLessThan %bool %2394 %2395
               OpSelectionMerge %2397 None
               OpBranchConditional %2396 %2398 %2399
       %2399 = OpLabel
               OpBranch %2397
       %2398 = OpLabel
               OpBranch %2397
       %2397 = OpLabel
       %2400 = OpPhi %float %2393 %2399 %2387 %2398
       %2401 = OpFNegate %float %2301
       %2402 = OpFAdd %float %2400 %2299
       %2403 = OpCompositeConstruct %v2float %2401 %2402
               OpStore %210 %2403
       %2404 = OpAccessChain %_ptr_Function_float %209 %int_1
       %2405 = OpLoad %float %2404
       %2406 = OpAccessChain %_ptr_Function_float %210 %int_1
       %2407 = OpLoad %float %2406
       %2408 = OpFMul %float %2405 %2407
       %2409 = OpAccessChain %_ptr_Function_float %209 %int_0
       %2410 = OpLoad %float %2409
       %2411 = OpFNegate %float %2410
       %2412 = OpAccessChain %_ptr_Function_float %210 %int_1
       %2413 = OpLoad %float %2412
       %2414 = OpAccessChain %_ptr_Function_float %209 %int_1
       %2415 = OpLoad %float %2414
       %2416 = OpAccessChain %_ptr_Function_float %210 %int_0
       %2417 = OpLoad %float %2416
       %2418 = OpFMul %float %2415 %2417
       %2419 = OpFNegate %float %2418
       %2420 = OpExtInst %float %1 Fma %2411 %2413 %2419
       %2421 = OpAccessChain %_ptr_Function_float %209 %int_0
       %2422 = OpLoad %float %2421
       %2423 = OpAccessChain %_ptr_Function_float %210 %int_0
       %2424 = OpLoad %float %2423
       %2425 = OpFMul %float %2422 %2424
       %2426 = OpFMul %float %2297 %2425
       %2427 = OpFNegate %float %2426
       %2428 = OpExtInst %float %1 Fma %2299 %2420 %2427
       %2429 = OpFNegate %float %2297
       %2430 = OpFMul %float %2299 %2408
       %2431 = OpExtInst %float %1 Fma %2429 %2420 %2430
       %2432 = OpCompositeConstruct %v2float %2428 %2431
               OpStore %211 %2432
       %2433 = OpAccessChain %_ptr_Function_float %210 %int_0
       %2434 = OpLoad %float %2433
       %2435 = OpAccessChain %_ptr_Function_float %210 %int_1
       %2436 = OpLoad %float %2435
       %2437 = OpFDiv %float %2434 %2436
       %2438 = OpAccessChain %_ptr_Function_float %211 %int_0
       %2439 = OpLoad %float %2438
       %2440 = OpAccessChain %_ptr_Function_float %211 %int_1
       %2441 = OpLoad %float %2440
       %2442 = OpFDiv %float %2439 %2441
       %2443 = OpAccessChain %_ptr_Function_float %209 %int_0
       %2444 = OpLoad %float %2443
       %2445 = OpAccessChain %_ptr_Function_float %209 %int_1
       %2446 = OpLoad %float %2445
       %2447 = OpFDiv %float %2444 %2446
       %2448 = OpCompositeConstruct %v3float %2437 %2442 %2447
               OpStore %212 %2448
       %2449 = OpAccessChain %_ptr_Function_float %212 %int_0
       %2450 = OpLoad %float %2449
       %2451 = OpAccessChain %_ptr_Function_float %212 %int_1
       %2452 = OpLoad %float %2451
       %2453 = OpFOrdLessThan %bool %2450 %2452
               OpSelectionMerge %2454 None
               OpBranchConditional %2453 %2455 %2454
       %2455 = OpLabel
       %2456 = OpAccessChain %_ptr_Function_float %212 %int_0
       %2457 = OpLoad %float %2456
       %2458 = OpAccessChain %_ptr_Function_float %212 %int_2
       %2459 = OpLoad %float %2458
       %2460 = OpFOrdLessThan %bool %2457 %2459
               OpBranch %2454
       %2454 = OpLabel
       %2461 = OpPhi %bool %false %2397 %2460 %2455
               OpSelectionMerge %2462 None
               OpBranchConditional %2461 %2463 %2464
       %2464 = OpLabel
       %2465 = OpAccessChain %_ptr_Function_float %212 %int_2
       %2466 = OpLoad %float %2465
       %2467 = OpAccessChain %_ptr_Function_float %212 %int_0
       %2468 = OpLoad %float %2467
       %2469 = OpFOrdLessThan %bool %2466 %2468
               OpSelectionMerge %2470 None
               OpBranchConditional %2469 %2471 %2470
       %2471 = OpLabel
       %2472 = OpAccessChain %_ptr_Function_float %212 %int_2
       %2473 = OpLoad %float %2472
       %2474 = OpAccessChain %_ptr_Function_float %212 %int_1
       %2475 = OpLoad %float %2474
       %2476 = OpFOrdLessThan %bool %2473 %2475
               OpBranch %2470
       %2470 = OpLabel
       %2477 = OpPhi %bool %false %2464 %2476 %2471
               OpSelectionMerge %2478 None
               OpBranchConditional %2477 %2479 %2478
       %2479 = OpLabel
       %2480 = OpLoad %v3float %212
       %2481 = OpVectorShuffle %v3float %2480 %2480 0 2 1
               OpStore %212 %2481
               OpBranch %2478
       %2478 = OpLabel
               OpBranch %2462
       %2463 = OpLabel
       %2482 = OpLoad %v3float %212
       %2483 = OpVectorShuffle %v3float %2482 %2482 1 0 2
               OpStore %212 %2483
               OpBranch %2462
       %2462 = OpLabel
       %2484 = OpLoad %v3float %212
               OpStore %213 %2484
       %2485 = OpAccessChain %_ptr_Function_float %213 %int_0
       %2486 = OpLoad %float %2485
       %2487 = OpAccessChain %_ptr_Function_float %213 %int_1
       %2488 = OpLoad %float %2487
       %2489 = OpAccessChain %_ptr_Function_float %213 %int_2
       %2490 = OpLoad %float %2489
       %2491 = OpFMul %float %2267 %2263
       %2492 = OpFNegate %float %2488
       %2493 = OpExtInst %float %1 Fma %2251 %2266 %2492
       %2494 = OpFDiv %float %2491 %2493
       %2495 = OpFMul %float %2269 %2265
       %2496 = OpFNegate %float %2488
       %2497 = OpExtInst %float %1 Fma %2250 %2268 %2496
       %2498 = OpFDiv %float %2495 %2497
       %2499 = OpCompositeConstruct %v3float %2494 %2498 %float_1
       %2500 = OpCompositeConstruct %mat3v3float %2253 %2252 %2260
       %2501 = OpTranspose %mat3v3float %2500
       %2502 = OpVectorTimesMatrix %v3float %2499 %2501
       %2503 = OpExtInst %v3float %1 Normalize %2502
               OpStore %215 %2503
       %2504 = OpFNegate %float %2488
       %2505 = OpFDiv %float %2504 %2490
       %2506 = OpExtInst %float %1 Sqrt %2505
       %2507 = OpFNegate %float %2488
       %2508 = OpFDiv %float %2507 %2486
       %2509 = OpExtInst %float %1 Sqrt %2508
       %2510 = OpFMul %float %2506 %2509
       %2511 = OpExtInst %float %1 Fma %2506 %2506 %float_1
       %2512 = OpExtInst %float %1 Fma %2509 %2509 %float_1
       %2513 = OpFMul %float %2511 %2512
       %2514 = OpExtInst %float %1 InverseSqrt %2513
       %2515 = OpFMul %float %2510 %2514
       %2516 = OpAccessChain %_ptr_Function_float %215 %int_2
       %2517 = OpLoad %float %2516
       %2518 = OpExtInst %float %1 Fma %2517 %float_0_5 %float_0_5
       %2519 = OpCompositeConstruct %v2float %2518 %2515
       %2520 = OpVectorTimesScalar %v2float %2519 %float_0_984375
       %2521 = OpFAdd %v2float %2520 %113
       %2522 = OpLoad %type_2d_image %LTCTex_2
       %2523 = OpLoad %type_sampler %SampStateTrilinearClamp
       %2524 = OpSampledImage %type_sampled_image_0 %2522 %2523
       %2525 = OpImageSampleExplicitLod %v4float %2524 %2521 Lod %float_0
       %2526 = OpCompositeExtract %float %2525 3
       %2527 = OpFMul %float %2515 %2526
       %2528 = OpCompositeConstruct %v3float %2527 %2527 %2527
               OpBranch %2148
       %2148 = OpLabel
       %2529 = OpPhi %v3float %78 %2185 %78 %2174 %2528 %2462
               OpBranch %1764
       %1764 = OpLabel
       %2530 = OpPhi %v3float %78 %1762 %2147 %2148
       %2531 = OpPhi %v3float %78 %1762 %2529 %2148
               OpBranch %1760
       %1761 = OpLabel
       %2532 = OpCompositeConstruct %mat3v3float %1752 %1753 %397
       %2533 = OpMatrixTimesMatrix %mat3v3float %2532 %187
       %2534 = OpFSub %v3float %1661 %485
       %2535 = OpVectorTimesMatrix %v3float %2534 %2533
       %2536 = OpFSub %v3float %1668 %485
       %2537 = OpVectorTimesMatrix %v3float %2536 %2533
       %2538 = OpFSub %v3float %1675 %485
       %2539 = OpVectorTimesMatrix %v3float %2538 %2533
       %2540 = OpFSub %v3float %1682 %485
       %2541 = OpVectorTimesMatrix %v3float %2540 %2533
               OpSelectionMerge %2542 None
               OpBranchConditional %1691 %2543 %2542
       %2543 = OpLabel
       %2544 = OpFSub %v3float %2537 %2535
       %2545 = OpFSub %v3float %2541 %2535
       %2546 = OpExtInst %v3float %1 Cross %2544 %2545
       %2547 = OpDot %float %2546 %2546
       %2548 = OpDot %float %2546 %2535
       %2549 = OpVectorTimesScalar %v3float %2546 %2548
       %2550 = OpCompositeConstruct %v3float %2547 %2547 %2547
       %2551 = OpFDiv %v3float %2549 %2550
       %2552 = OpFSub %v3float %2551 %2535
       %2553 = OpDot %float %2544 %2545
       %2554 = OpDot %float %2544 %2544
       %2555 = OpFDiv %float %float_1 %2554
       %2556 = OpVectorTimesScalar %v3float %2544 %2553
       %2557 = OpVectorTimesScalar %v3float %2556 %2555
       %2558 = OpFSub %v3float %2545 %2557
       %2559 = OpDot %float %2558 %2552
       %2560 = OpDot %float %2558 %2558
       %2561 = OpFDiv %float %2559 %2560
       %2562 = OpAccessChain %_ptr_Function_float %206 %int_1
               OpStore %2562 %2561
       %2563 = OpDot %float %2544 %2552
       %2564 = OpFMul %float %2553 %2555
       %2565 = OpAccessChain %_ptr_Function_float %206 %int_1
       %2566 = OpLoad %float %2565
       %2567 = OpFMul %float %2564 %2566
       %2568 = OpFNegate %float %2567
       %2569 = OpExtInst %float %1 Fma %2563 %2555 %2568
       %2570 = OpAccessChain %_ptr_Function_float %206 %int_0
               OpStore %2570 %2569
               OpBranch %2571
       %2571 = OpLabel
       %2572 = OpExtInst %float %1 FAbs %2548
       %2573 = OpExtInst %float %1 Pow %2547 %float_0_75
       %2574 = OpFDiv %float %2572 %2573
               OpBranch %2575
       %2575 = OpLabel
       %2576 = OpLoad %type_sampler %SampStateTrilinearClamp
       %2577 = OpLoad %v2float %206
       %2578 = OpVectorTimesScalar %v2float %2577 %float_0_75
       %2579 = OpFAdd %v2float %127 %2578
       %2580 = OpCompositeExtract %float %2579 0
       %2581 = OpCompositeExtract %float %2579 1
       %2582 = OpCompositeConstruct %v3float %2580 %2581 %1648
       %2583 = OpFMul %float %float_2048 %2574
       %2584 = OpExtInst %float %1 Log %2583
       %2585 = OpFMul %float %2584 %float_0_91023922
       %2586 = OpSampledImage %type_sampled_image_1 %1652 %2576
       %2587 = OpImageSampleExplicitLod %v4float %2586 %2582 Lod %2585
       %2588 = OpCompositeExtract %float %2587 0
       %2589 = OpCompositeConstruct %v3float %2588 %2588 %2588
               OpBranch %2542
       %2542 = OpLabel
       %2590 = OpPhi %v3float %88 %1761 %2589 %2575
       %2591 = OpExtInst %v3float %1 Normalize %2535
       %2592 = OpExtInst %v3float %1 Normalize %2537
       %2593 = OpExtInst %v3float %1 Normalize %2539
       %2594 = OpExtInst %v3float %1 Normalize %2541
               OpStore %207 %78
       %2595 = OpDot %float %2591 %2592
       %2596 = OpExtInst %float %1 FAbs %2595
       %2597 = OpExtInst %float %1 Fma %float_0_0145206004 %2596 %float_0_496515512
       %2598 = OpExtInst %float %1 Fma %2597 %2596 %float_0_854398489
       %2599 = OpFAdd %float %float_4_16167259 %2596
       %2600 = OpExtInst %float %1 Fma %2599 %2596 %float_3_41759396
       %2601 = OpFDiv %float %2598 %2600
       %2602 = OpFOrdGreaterThan %bool %2595 %float_0
               OpSelectionMerge %2603 None
               OpBranchConditional %2602 %2604 %2605
       %2605 = OpLabel
       %2606 = OpFNegate %float %2595
       %2607 = OpExtInst %float %1 Fma %2606 %2595 %float_1
       %2608 = OpExtInst %float %1 NMax %2607 %float_1_00000001en07
       %2609 = OpExtInst %float %1 InverseSqrt %2608
       %2610 = OpFNegate %float %2601
       %2611 = OpExtInst %float %1 Fma %float_0_5 %2609 %2610
               OpBranch %2603
       %2604 = OpLabel
               OpBranch %2603
       %2603 = OpLabel
       %2612 = OpPhi %float %2611 %2605 %2601 %2604
       %2613 = OpExtInst %v3float %1 Cross %2591 %2592
       %2614 = OpVectorTimesScalar %v3float %2613 %2612
       %2615 = OpLoad %v3float %207
       %2616 = OpFAdd %v3float %2615 %2614
               OpStore %207 %2616
       %2617 = OpDot %float %2592 %2593
       %2618 = OpExtInst %float %1 FAbs %2617
       %2619 = OpExtInst %float %1 Fma %float_0_0145206004 %2618 %float_0_496515512
       %2620 = OpExtInst %float %1 Fma %2619 %2618 %float_0_854398489
       %2621 = OpFAdd %float %float_4_16167259 %2618
       %2622 = OpExtInst %float %1 Fma %2621 %2618 %float_3_41759396
       %2623 = OpFDiv %float %2620 %2622
       %2624 = OpFOrdGreaterThan %bool %2617 %float_0
               OpSelectionMerge %2625 None
               OpBranchConditional %2624 %2626 %2627
       %2627 = OpLabel
       %2628 = OpFNegate %float %2617
       %2629 = OpExtInst %float %1 Fma %2628 %2617 %float_1
       %2630 = OpExtInst %float %1 NMax %2629 %float_1_00000001en07
       %2631 = OpExtInst %float %1 InverseSqrt %2630
       %2632 = OpFNegate %float %2623
       %2633 = OpExtInst %float %1 Fma %float_0_5 %2631 %2632
               OpBranch %2625
       %2626 = OpLabel
               OpBranch %2625
       %2625 = OpLabel
       %2634 = OpPhi %float %2633 %2627 %2623 %2626
       %2635 = OpExtInst %v3float %1 Cross %2592 %2593
       %2636 = OpVectorTimesScalar %v3float %2635 %2634
       %2637 = OpLoad %v3float %207
       %2638 = OpFAdd %v3float %2637 %2636
               OpStore %207 %2638
       %2639 = OpDot %float %2593 %2594
       %2640 = OpExtInst %float %1 FAbs %2639
       %2641 = OpExtInst %float %1 Fma %float_0_0145206004 %2640 %float_0_496515512
       %2642 = OpExtInst %float %1 Fma %2641 %2640 %float_0_854398489
       %2643 = OpFAdd %float %float_4_16167259 %2640
       %2644 = OpExtInst %float %1 Fma %2643 %2640 %float_3_41759396
       %2645 = OpFDiv %float %2642 %2644
       %2646 = OpFOrdGreaterThan %bool %2639 %float_0
               OpSelectionMerge %2647 None
               OpBranchConditional %2646 %2648 %2649
       %2649 = OpLabel
       %2650 = OpFNegate %float %2639
       %2651 = OpExtInst %float %1 Fma %2650 %2639 %float_1
       %2652 = OpExtInst %float %1 NMax %2651 %float_1_00000001en07
       %2653 = OpExtInst %float %1 InverseSqrt %2652
       %2654 = OpFNegate %float %2645
       %2655 = OpExtInst %float %1 Fma %float_0_5 %2653 %2654
               OpBranch %2647
       %2648 = OpLabel
               OpBranch %2647
       %2647 = OpLabel
       %2656 = OpPhi %float %2655 %2649 %2645 %2648
       %2657 = OpExtInst %v3float %1 Cross %2593 %2594
       %2658 = OpVectorTimesScalar %v3float %2657 %2656
       %2659 = OpLoad %v3float %207
       %2660 = OpFAdd %v3float %2659 %2658
               OpStore %207 %2660
       %2661 = OpDot %float %2594 %2591
       %2662 = OpExtInst %float %1 FAbs %2661
       %2663 = OpExtInst %float %1 Fma %float_0_0145206004 %2662 %float_0_496515512
       %2664 = OpExtInst %float %1 Fma %2663 %2662 %float_0_854398489
       %2665 = OpFAdd %float %float_4_16167259 %2662
       %2666 = OpExtInst %float %1 Fma %2665 %2662 %float_3_41759396
       %2667 = OpFDiv %float %2664 %2666
       %2668 = OpFOrdGreaterThan %bool %2661 %float_0
               OpSelectionMerge %2669 None
               OpBranchConditional %2668 %2670 %2671
       %2671 = OpLabel
       %2672 = OpFNegate %float %2661
       %2673 = OpExtInst %float %1 Fma %2672 %2661 %float_1
       %2674 = OpExtInst %float %1 NMax %2673 %float_1_00000001en07
       %2675 = OpExtInst %float %1 InverseSqrt %2674
       %2676 = OpFNegate %float %2667
       %2677 = OpExtInst %float %1 Fma %float_0_5 %2675 %2676
               OpBranch %2669
       %2670 = OpLabel
               OpBranch %2669
       %2669 = OpLabel
       %2678 = OpPhi %float %2677 %2671 %2667 %2670
       %2679 = OpExtInst %v3float %1 Cross %2594 %2591
       %2680 = OpVectorTimesScalar %v3float %2679 %2678
       %2681 = OpLoad %v3float %207
       %2682 = OpFAdd %v3float %2681 %2680
               OpStore %207 %2682
       %2683 = OpExtInst %float %1 Length %2682
               OpSelectionMerge %2684 None
               OpBranchConditional %1713 %2685 %2686
       %2686 = OpLabel
       %2687 = OpAccessChain %_ptr_Function_float %207 %int_2
       %2688 = OpLoad %float %2687
               OpBranch %2684
       %2685 = OpLabel
       %2689 = OpAccessChain %_ptr_Function_float %207 %int_2
       %2690 = OpLoad %float %2689
       %2691 = OpFNegate %float %2690
               OpBranch %2684
       %2684 = OpLabel
       %2692 = OpPhi %float %2688 %2686 %2691 %2685
       %2693 = OpFDiv %float %2692 %2683
       %2694 = OpExtInst %float %1 Fma %2693 %float_0_5 %float_0_5
       %2695 = OpCompositeConstruct %v2float %2694 %2683
       %2696 = OpVectorTimesScalar %v2float %2695 %float_0_984375
       %2697 = OpFAdd %v2float %2696 %113
       %2698 = OpLoad %type_2d_image %LTCTex_2
       %2699 = OpLoad %type_sampler %SampStateTrilinearClamp
       %2700 = OpSampledImage %type_sampled_image_0 %2698 %2699
       %2701 = OpImageSampleExplicitLod %v4float %2700 %2697 Lod %float_0
       %2702 = OpCompositeExtract %float %2701 3
       %2703 = OpFMul %float %2683 %2702
       %2704 = OpCompositeConstruct %v3float %2703 %2703 %2703
       %2705 = OpFMul %v3float %2704 %2590
       %2706 = OpCompositeConstruct %mat3v3float %1752 %1753 %397
       %2707 = OpMatrixTimesMatrix %mat3v3float %2706 %1749
       %2708 = OpFSub %v3float %1661 %485
       %2709 = OpVectorTimesMatrix %v3float %2708 %2707
       %2710 = OpFSub %v3float %1668 %485
       %2711 = OpVectorTimesMatrix %v3float %2710 %2707
       %2712 = OpFSub %v3float %1675 %485
       %2713 = OpVectorTimesMatrix %v3float %2712 %2707
       %2714 = OpFSub %v3float %1682 %485
       %2715 = OpVectorTimesMatrix %v3float %2714 %2707
               OpSelectionMerge %2716 None
               OpBranchConditional %1691 %2717 %2716
       %2717 = OpLabel
       %2718 = OpFSub %v3float %2711 %2709
       %2719 = OpFSub %v3float %2715 %2709
       %2720 = OpExtInst %v3float %1 Cross %2718 %2719
       %2721 = OpDot %float %2720 %2720
       %2722 = OpDot %float %2720 %2709
       %2723 = OpVectorTimesScalar %v3float %2720 %2722
       %2724 = OpCompositeConstruct %v3float %2721 %2721 %2721
       %2725 = OpFDiv %v3float %2723 %2724
       %2726 = OpFSub %v3float %2725 %2709
       %2727 = OpDot %float %2718 %2719
       %2728 = OpDot %float %2718 %2718
       %2729 = OpFDiv %float %float_1 %2728
       %2730 = OpVectorTimesScalar %v3float %2718 %2727
       %2731 = OpVectorTimesScalar %v3float %2730 %2729
       %2732 = OpFSub %v3float %2719 %2731
       %2733 = OpDot %float %2732 %2726
       %2734 = OpDot %float %2732 %2732
       %2735 = OpFDiv %float %2733 %2734
       %2736 = OpAccessChain %_ptr_Function_float %204 %int_1
               OpStore %2736 %2735
       %2737 = OpDot %float %2718 %2726
       %2738 = OpFMul %float %2727 %2729
       %2739 = OpAccessChain %_ptr_Function_float %204 %int_1
       %2740 = OpLoad %float %2739
       %2741 = OpFMul %float %2738 %2740
       %2742 = OpFNegate %float %2741
       %2743 = OpExtInst %float %1 Fma %2737 %2729 %2742
       %2744 = OpAccessChain %_ptr_Function_float %204 %int_0
               OpStore %2744 %2743
               OpBranch %2745
       %2745 = OpLabel
       %2746 = OpExtInst %float %1 FAbs %2722
       %2747 = OpExtInst %float %1 Pow %2721 %float_0_75
       %2748 = OpFDiv %float %2746 %2747
               OpBranch %2749
       %2749 = OpLabel
       %2750 = OpLoad %type_sampler %SampStateTrilinearClamp
       %2751 = OpLoad %v2float %204
       %2752 = OpVectorTimesScalar %v2float %2751 %float_0_75
       %2753 = OpFAdd %v2float %127 %2752
       %2754 = OpCompositeExtract %float %2753 0
       %2755 = OpCompositeExtract %float %2753 1
       %2756 = OpCompositeConstruct %v3float %2754 %2755 %1648
       %2757 = OpFMul %float %float_2048 %2748
       %2758 = OpExtInst %float %1 Log %2757
       %2759 = OpFMul %float %2758 %float_0_91023922
       %2760 = OpSampledImage %type_sampled_image_1 %1652 %2750
       %2761 = OpImageSampleExplicitLod %v4float %2760 %2756 Lod %2759
       %2762 = OpCompositeExtract %float %2761 0
       %2763 = OpCompositeConstruct %v3float %2762 %2762 %2762
               OpBranch %2716
       %2716 = OpLabel
       %2764 = OpPhi %v3float %88 %2684 %2763 %2749
       %2765 = OpExtInst %v3float %1 Normalize %2709
       %2766 = OpExtInst %v3float %1 Normalize %2711
       %2767 = OpExtInst %v3float %1 Normalize %2713
       %2768 = OpExtInst %v3float %1 Normalize %2715
               OpStore %205 %78
       %2769 = OpDot %float %2765 %2766
       %2770 = OpExtInst %float %1 FAbs %2769
       %2771 = OpExtInst %float %1 Fma %float_0_0145206004 %2770 %float_0_496515512
       %2772 = OpExtInst %float %1 Fma %2771 %2770 %float_0_854398489
       %2773 = OpFAdd %float %float_4_16167259 %2770
       %2774 = OpExtInst %float %1 Fma %2773 %2770 %float_3_41759396
       %2775 = OpFDiv %float %2772 %2774
       %2776 = OpFOrdGreaterThan %bool %2769 %float_0
               OpSelectionMerge %2777 None
               OpBranchConditional %2776 %2778 %2779
       %2779 = OpLabel
       %2780 = OpFNegate %float %2769
       %2781 = OpExtInst %float %1 Fma %2780 %2769 %float_1
       %2782 = OpExtInst %float %1 NMax %2781 %float_1_00000001en07
       %2783 = OpExtInst %float %1 InverseSqrt %2782
       %2784 = OpFNegate %float %2775
       %2785 = OpExtInst %float %1 Fma %float_0_5 %2783 %2784
               OpBranch %2777
       %2778 = OpLabel
               OpBranch %2777
       %2777 = OpLabel
       %2786 = OpPhi %float %2785 %2779 %2775 %2778
       %2787 = OpExtInst %v3float %1 Cross %2765 %2766
       %2788 = OpVectorTimesScalar %v3float %2787 %2786
       %2789 = OpLoad %v3float %205
       %2790 = OpFAdd %v3float %2789 %2788
               OpStore %205 %2790
       %2791 = OpDot %float %2766 %2767
       %2792 = OpExtInst %float %1 FAbs %2791
       %2793 = OpExtInst %float %1 Fma %float_0_0145206004 %2792 %float_0_496515512
       %2794 = OpExtInst %float %1 Fma %2793 %2792 %float_0_854398489
       %2795 = OpFAdd %float %float_4_16167259 %2792
       %2796 = OpExtInst %float %1 Fma %2795 %2792 %float_3_41759396
       %2797 = OpFDiv %float %2794 %2796
       %2798 = OpFOrdGreaterThan %bool %2791 %float_0
               OpSelectionMerge %2799 None
               OpBranchConditional %2798 %2800 %2801
       %2801 = OpLabel
       %2802 = OpFNegate %float %2791
       %2803 = OpExtInst %float %1 Fma %2802 %2791 %float_1
       %2804 = OpExtInst %float %1 NMax %2803 %float_1_00000001en07
       %2805 = OpExtInst %float %1 InverseSqrt %2804
       %2806 = OpFNegate %float %2797
       %2807 = OpExtInst %float %1 Fma %float_0_5 %2805 %2806
               OpBranch %2799
       %2800 = OpLabel
               OpBranch %2799
       %2799 = OpLabel
       %2808 = OpPhi %float %2807 %2801 %2797 %2800
       %2809 = OpExtInst %v3float %1 Cross %2766 %2767
       %2810 = OpVectorTimesScalar %v3float %2809 %2808
       %2811 = OpLoad %v3float %205
       %2812 = OpFAdd %v3float %2811 %2810
               OpStore %205 %2812
       %2813 = OpDot %float %2767 %2768
       %2814 = OpExtInst %float %1 FAbs %2813
       %2815 = OpExtInst %float %1 Fma %float_0_0145206004 %2814 %float_0_496515512
       %2816 = OpExtInst %float %1 Fma %2815 %2814 %float_0_854398489
       %2817 = OpFAdd %float %float_4_16167259 %2814
       %2818 = OpExtInst %float %1 Fma %2817 %2814 %float_3_41759396
       %2819 = OpFDiv %float %2816 %2818
       %2820 = OpFOrdGreaterThan %bool %2813 %float_0
               OpSelectionMerge %2821 None
               OpBranchConditional %2820 %2822 %2823
       %2823 = OpLabel
       %2824 = OpFNegate %float %2813
       %2825 = OpExtInst %float %1 Fma %2824 %2813 %float_1
       %2826 = OpExtInst %float %1 NMax %2825 %float_1_00000001en07
       %2827 = OpExtInst %float %1 InverseSqrt %2826
       %2828 = OpFNegate %float %2819
       %2829 = OpExtInst %float %1 Fma %float_0_5 %2827 %2828
               OpBranch %2821
       %2822 = OpLabel
               OpBranch %2821
       %2821 = OpLabel
       %2830 = OpPhi %float %2829 %2823 %2819 %2822
       %2831 = OpExtInst %v3float %1 Cross %2767 %2768
       %2832 = OpVectorTimesScalar %v3float %2831 %2830
       %2833 = OpLoad %v3float %205
       %2834 = OpFAdd %v3float %2833 %2832
               OpStore %205 %2834
       %2835 = OpDot %float %2768 %2765
       %2836 = OpExtInst %float %1 FAbs %2835
       %2837 = OpExtInst %float %1 Fma %float_0_0145206004 %2836 %float_0_496515512
       %2838 = OpExtInst %float %1 Fma %2837 %2836 %float_0_854398489
       %2839 = OpFAdd %float %float_4_16167259 %2836
       %2840 = OpExtInst %float %1 Fma %2839 %2836 %float_3_41759396
       %2841 = OpFDiv %float %2838 %2840
       %2842 = OpFOrdGreaterThan %bool %2835 %float_0
               OpSelectionMerge %2843 None
               OpBranchConditional %2842 %2844 %2845
       %2845 = OpLabel
       %2846 = OpFNegate %float %2835
       %2847 = OpExtInst %float %1 Fma %2846 %2835 %float_1
       %2848 = OpExtInst %float %1 NMax %2847 %float_1_00000001en07
       %2849 = OpExtInst %float %1 InverseSqrt %2848
       %2850 = OpFNegate %float %2841
       %2851 = OpExtInst %float %1 Fma %float_0_5 %2849 %2850
               OpBranch %2843
       %2844 = OpLabel
               OpBranch %2843
       %2843 = OpLabel
       %2852 = OpPhi %float %2851 %2845 %2841 %2844
       %2853 = OpExtInst %v3float %1 Cross %2768 %2765
       %2854 = OpVectorTimesScalar %v3float %2853 %2852
       %2855 = OpLoad %v3float %205
       %2856 = OpFAdd %v3float %2855 %2854
               OpStore %205 %2856
       %2857 = OpExtInst %float %1 Length %2856
               OpSelectionMerge %2858 None
               OpBranchConditional %1713 %2859 %2860
       %2860 = OpLabel
       %2861 = OpAccessChain %_ptr_Function_float %205 %int_2
       %2862 = OpLoad %float %2861
               OpBranch %2858
       %2859 = OpLabel
       %2863 = OpAccessChain %_ptr_Function_float %205 %int_2
       %2864 = OpLoad %float %2863
       %2865 = OpFNegate %float %2864
               OpBranch %2858
       %2858 = OpLabel
       %2866 = OpPhi %float %2862 %2860 %2865 %2859
       %2867 = OpFDiv %float %2866 %2857
       %2868 = OpExtInst %float %1 Fma %2867 %float_0_5 %float_0_5
       %2869 = OpCompositeConstruct %v2float %2868 %2857
       %2870 = OpVectorTimesScalar %v2float %2869 %float_0_984375
       %2871 = OpFAdd %v2float %2870 %113
       %2872 = OpLoad %type_2d_image %LTCTex_2
       %2873 = OpLoad %type_sampler %SampStateTrilinearClamp
       %2874 = OpSampledImage %type_sampled_image_0 %2872 %2873
       %2875 = OpImageSampleExplicitLod %v4float %2874 %2871 Lod %float_0
       %2876 = OpCompositeExtract %float %2875 3
       %2877 = OpFMul %float %2857 %2876
       %2878 = OpCompositeConstruct %v3float %2877 %2877 %2877
       %2879 = OpFMul %v3float %2878 %2764
               OpBranch %1760
       %1760 = OpLabel
       %2880 = OpPhi %v3float %2530 %1764 %2705 %2858
       %2881 = OpPhi %v3float %2531 %1764 %2879 %2858
       %2882 = OpDot %float %1707 %397
       %2883 = OpExtInst %float %1 FClamp %2882 %float_0 %float_1
       %2884 = OpVectorTimesScalar %v3float %430 %2883
       %2885 = OpAccessChain %_ptr_Function_float %226 %int_0
       %2886 = OpLoad %float %2885
       %2887 = OpVectorTimesScalar %v3float %2884 %2886
       %2888 = OpFNegate %v3float %429
       %2889 = OpExtInst %v3float %1 Fma %2888 %429 %88
       %2890 = OpAccessChain %_ptr_Function_float %226 %int_1
       %2891 = OpLoad %float %2890
       %2892 = OpVectorTimesScalar %v3float %2889 %2891
       %2893 = OpFAdd %v3float %2887 %2892
       %2894 = OpFMul %v3float %2881 %2893
               OpBranch %1653
       %1653 = OpLabel
       %2895 = OpPhi %v3float %78 %1719 %2894 %1760
       %2896 = OpPhi %v3float %78 %1719 %2880 %1760
       %2897 = OpVectorShuffle %v3float %1477 %1477 0 1 2
       %2898 = OpVectorTimesScalar %v3float %2897 %1509
       %2899 = OpExtInst %v3float %1 Fma %2898 %2896 %1167
       %2900 = OpVectorShuffle %v3float %1477 %1477 0 1 2
       %2901 = OpVectorTimesScalar %v3float %2900 %1509
       %2902 = OpAccessChain %_ptr_Function_float %251 %int_3
       %2903 = OpLoad %float %2902
       %2904 = OpVectorTimesScalar %v3float %2901 %2903
       %2905 = OpExtInst %v3float %1 Fma %2904 %2895 %1165
               OpBranch %1511
       %1511 = OpLabel
       %2906 = OpPhi %v3float %1634 %1621 %2905 %1653
       %2907 = OpPhi %v3float %1626 %1621 %2899 %1653
               OpBranch %1496
       %1496 = OpLabel
       %2908 = OpPhi %v3float %1165 %1478 %2906 %1511
       %2909 = OpPhi %v3float %1167 %1478 %2907 %1511
               OpBranch %1473
       %1473 = OpLabel
       %2910 = OpPhi %v3float %1165 %1296 %2908 %1496
       %2911 = OpPhi %v3float %1167 %1296 %2909 %1496
               OpBranch %1288
       %1288 = OpLabel
       %1166 = OpPhi %v3float %1165 %1275 %2910 %1473
       %1168 = OpPhi %v3float %1167 %1275 %2911 %1473
       %1170 = OpIAdd %int %1169 %int_1
       %2912 = OpExtInst %int %1 SMin %1170 %int_254
       %2913 = OpAccessChain %_ptr_Workgroup_uint %sTileLightIndices %2912
       %2914 = OpLoad %uint %2913
       %1163 = OpBitcast %int %2914
               OpBranch %1164
       %1164 = OpLabel
               OpBranch %1161
       %1174 = OpLabel
       %2915 = OpLoad %type_2d_image %DiffuseRT
       %2916 = OpImageFetch %v4float %2915 %269 Lod %uint_0
               OpStore %255 %2916
       %2917 = OpVectorShuffle %v3float %2916 %2916 0 1 2
       %2918 = OpVectorShuffle %v3float %2916 %2916 0 1 2
       %2919 = OpFMul %v3float %2917 %2918
       %2920 = OpAccessChain %_ptr_Function_float %255 %int_3
       %2921 = OpLoad %float %2920
       %2922 = OpFMul %float %2921 %float_3_99609375
       %2923 = OpCompositeExtract %float %2919 0
       %2924 = OpCompositeExtract %float %2919 1
       %2925 = OpCompositeExtract %float %2919 2
       %2926 = OpCompositeConstruct %v4float %2923 %2924 %2925 %2922
               OpStore %254 %2926
       %2927 = OpAccessChain %_ptr_Function_float %254 %int_3
       %2928 = OpLoad %float %2927
       %2929 = OpVectorShuffle %v3float %2926 %2926 0 1 2
       %2930 = OpDot %float %430 %124
       %2931 = OpFSub %float %float_1 %2930
       %2932 = OpExtInst %float %1 FClamp %2931 %float_0 %float_1
       %2933 = OpVectorTimesScalar %v3float %2929 %2932
       %2934 = OpExtInst %v3float %1 Fma %1167 %2933 %1165
       %2935 = OpFOrdGreaterThan %bool %2928 %float_0
               OpSelectionMerge %2936 DontFlatten
               OpBranchConditional %2935 %2937 %2938
       %2938 = OpLabel
               OpBranch %2936
       %2937 = OpLabel
       %2939 = OpExtInst %float %1 Floor %2928
       %2940 = OpFOrdNotEqual %bool %2939 %float_1
               OpSelectionMerge %2941 None
               OpBranchConditional %2940 %2942 %2943
       %2943 = OpLabel
               OpBranch %2941
       %2942 = OpLabel
       %2944 = OpExtInst %v3float %1 Sqrt %2933
               OpBranch %2941
       %2941 = OpLabel
       %2945 = OpPhi %v3float %88 %2943 %2944 %2942
       %2946 = OpFMul %v3float %1167 %2945
               OpBranch %2936
       %2936 = OpLabel
       %2947 = OpPhi %v3float %2934 %2938 %1165 %2941
       %2948 = OpPhi %v3float %78 %2938 %2946 %2941
       %2949 = OpLoad %type_2d_image_0 %DiffuseAccUAV
               OpImageWrite %2949 %269 %2948 None
       %2950 = OpLoad %type_2d_image_0 %HDRSceneTargetUAV
               OpImageWrite %2950 %269 %2947 None
               OpBranch %258
        %258 = OpLabel
               OpReturn
               OpFunctionEnd
